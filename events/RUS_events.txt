#########################
#Russian civilwar events#
#########################

add_namespace = rus_civilwar

#february revolution
country_event = {
	id = rus_civilwar.1
	title = rus_civilwar.1.t	
	desc = rus_civilwar.1.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = { #february revolution works!
		name = rus_civilwar.1.a
		set_country_flag = RUS_provisional_government_in_charge
		set_cosmetic_tag = RUS_provisional
		if = {
			limit = {
				has_completed_focus = RUS_full_socialist_control
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
		}
		else = {
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
				name = RUS_democratic_party_civil_war
			}
		}
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = -15
			tooltip = RUS_socialist_radicalisation_increase
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.1
		}
		hidden_effect = { #Creating transcaucasia
			if = {
				limit = {
					any_owned_state = {
						OR = {
							state = 229
							state = 230
							state = 231
							state = 826
							state = 828
							state = 842
						}
						is_owned_and_controlled_by = ROOT
					}
				}
				create_dynamic_country = { 
					original_tag = AZR
					save_global_event_target_as = transcaucasia_event_target
					if = {
						limit = {
							RUS = {
								owns_state = 229
							}
						}
						set_state_owner = 229
						if = {
							limit = {
								RUS = {
									controls_state = 229
								}
							}
							set_state_controller = 229
						}
					}
					if = {
						limit = {
							RUS = {
								owns_state = 230
							}
						}
						set_state_owner = 230
						add_state_core = 230
						if = {
							limit = {
								RUS = {
									controls_state = 230
								}
							}
							set_state_controller = 230
						}
					}
					if = {
						limit = {
							RUS = {
								owns_state = 231
							}
						}
						set_state_owner = 231
						add_state_core = 231
						if = {
							limit = {
								RUS = {
									controls_state = 231
								}
							}
							set_state_controller = 231
						}
					}
					if = {
						limit = {
							RUS = {
								owns_state = 826
							}
						}
						set_state_owner = 826
						add_state_core = 826
						if = {
							limit = {
								RUS = {
									controls_state = 826
								}
							}
							set_state_controller = 826
						}
					}
					if = {
						limit = {
							RUS = {
								owns_state = 828
							}
						}
						set_state_owner = 828
						add_state_core = 828
						if = {
							limit = {
								RUS = {
									controls_state = 828
								}
							}
							set_state_controller = 828
						}
					}
					if = {
						limit = {
							RUS = {
								owns_state = 842
							}
						}
						set_state_owner = 842
						add_state_core = 842
						if = {
							limit = {
								RUS = {
									controls_state = 842
								}
							}
							set_state_controller = 842
						}
					}
					set_cosmetic_tag = transcaucasia_unified
				}
				
				RUS = {
					if = {
						limit = {
							OR = {
								has_dlc = "Together for Victory"
								has_dlc = "Man the Guns"
							}
						}
						set_autonomy = {
							target = event_target:transcaucasia_event_target
							autonomous_state = autonomy_integrated_puppet
						}
						else = {
							puppet = ARM
						}
					}
				}
			}
			if = {
				limit = {
					FIN = {
						OR = {
							is_puppet_of = ROOT
							exists = no
						}
					}
				}
				FIN = {
					transfer_state = 146
					transfer_state = 111
					transfer_state = 150
					transfer_state = 149
					transfer_state = 148
					transfer_state = 147
				}
				if = {
					limit = {
						OR = {
							has_dlc = "Together for Victory"
							has_dlc = "Man the Guns"
						}
					}
					set_autonomy = {
						target = FIN
						autonomous_state = autonomy_integrated_puppet
					}
					else = {
						puppet = FIN
					}
				}
			}
		}
		
		hidden_effect = {
			country_event = { 
				id = rus_civilwar.2
				days = 30
				random = 10
			}
		}

		trigger = {
			NOT = {
				has_completed_focus = RUS_ban_the_political_parties
			}
		}
	}

	option = { #it falls apart
		name = rus_civilwar.1.b
		if = {
			limit = {
				has_completed_focus = RUS_ban_the_political_parties
			}
			add_political_power = -50
			set_country_flag = RUS_provisional_government_failed
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			add_to_variable = {
				var = RUS_socialist_radicalisation
				value = 5
				tooltip = RUS_socialist_radicalisation_increase
			}
		}
		else = {
			add_political_power = -150
			set_country_flag = RUS_provisional_government_failed
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_to_variable = {
				var = RUS_socialist_radicalisation
				value = 15
				tooltip = RUS_socialist_radicalisation_increase
			}
		}
	}
}

country_event = { #petrograd soviet formed
	id = rus_civilwar.2
	title = rus_civilwar.2.t	
	desc = rus_civilwar.2.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = {#oh thats not good
		name = rus_civilwar.2.a
		add_dynamic_modifier = {
			modifier = RUS_local_soviets_modifier
			scope = 195
		}
		hidden_effect = {
			country_event = { 
				id = rus_civilwar.3
				days = 15
				random = 10
			}
		}
	}
}

country_event = { #more soviet gets formed
	id = rus_civilwar.3
	title = rus_civilwar.3.t	
	desc = rus_civilwar.3.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = {#oh thats not good
		name = rus_civilwar.2.a
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				state_strategic_value > 15
			}
			add_dynamic_modifier = {
				modifier = RUS_local_soviets_modifier
			}
		}
	}
}

country_event = { #Russian civil war starts
	id = rus_civilwar.4
	title = rus_civilwar.4.t	
	desc = rus_civilwar.4.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		195 = {
			SOV = {
				transfer_state = PREV
				load_oob = SOV_units
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"Red Guard\" division_template = \"Red Guard\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
		}
		SOV = {
			create_faction = RUS_red_faction
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			add_civil_war_target = RUS
		}
		set_country_flag = RUS_no_more_commie_radical
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		RUS = {
			create_faction = RUS_white_faction
		}
		every_state = {
			limit = {
				is_core_of = RUS
				NOT = {
					is_core_of = BLR
					is_core_of = UKR
					is_core_of = LIT
					is_core_of = LAT
					is_core_of = EST
					is_core_of = FIN
					is_core_of = AZR
					is_core_of = ARM
					is_core_of = GEO
					is_core_of = KAZ
					is_core_of = UZB
					is_core_of = TMS
					is_core_of = KYR
					is_core_of = TAJ
					is_core_of = GER
				}
			}
			add_core_of = SOV
		}
		every_other_country = {
			limit = {
				has_war_with = ROOT
			}
			declare_war_on = {
				target = SOV
				type = annex_everything
			}
		}
	}
	
	option = {#oh thats not very good
		name = rus_civilwar.4.a
		hidden_effect = {
			country_event = {
				id = rus_civilwar.5
				hours = 15
			}
		}
		trigger = {
			NOT = { has_completed_focus = RUS_radicalise_the_people }
		}
	}

	option = {#All power to the soviets
		name = rus_civilwar.4.b
		SOV = { change_tag_from = ROOT }
		hidden_effect = {
			country_event = {
				id = rus_civilwar.5
				hours = 15
			}
		}
		trigger = {
			NOT = { has_completed_focus = RUS_cement_the_tsars_rule}
		}
	}
}

country_event = { #workers take control of moscow
	id = rus_civilwar.5
	title = rus_civilwar.5.t	
	desc = rus_civilwar.5.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		219 = {
			SOV = {
				transfer_state = PREV
			}
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			}
			create_unit = {
				division = "name = \"Red Guard\" division_template = \"Red Guard\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}
	
	option = {#oh thats VERY not good
		name = rus_civilwar.5.a
		hidden_effect = {
			country_event = {
				id = rus_civilwar.7
				days = 2
			}
		}
	}
}

country_event = { #finnish civil war
	id = rus_civilwar.6
	title = rus_civilwar.6.t	
	desc = rus_civilwar.6.desc

	trigger = {
		original_tag = FIN
		exists = yes
		any_owned_state = { #checking if fin has at least 2 states
			is_capital = no 
		}
		is_puppet = no
		has_civil_war = no
		OR = {
			RUS = {
				has_civil_war = yes
			}
			SOV = {
				has_civil_war = yes
			}
		}
	}

	fire_only_once = yes

	immediate = {
		start_civil_war = {
			ruling_party = communism
			ideology = ROOT
			size = 0.3
			capital = 111
			states = { 
				111
			}
			add_ai_strategy = { #To make sure they dont intervene with the larger russian civil war
				type = alliance #Plus most red fins hated bolsheviks
				id = SOV
				value = -200
			}
			add_ai_strategy = { 
				type = befriend #But hey, they are both still commies
				id = SOV
				value = 100
			}
		}
	}
	
	option = {#oh thats very not good
		name = rus_civilwar.4.a
	}
}

country_event = { #mass uprisings
	id = rus_civilwar.7
	title = rus_civilwar.7.t	
	desc = rus_civilwar.7.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		every_owned_state = {
			limit = {
				OR = {
					state = 218
					state = 408
					state = 813
					state = 213
					state = 742
					state = 248
					state = 911
					state = 208
					state = 209
					state = 263
					state = 563
				}
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
			SOV = {
				set_state_owner = PREV
			}
			if = {
				limit = {
					RUS = {
						controls_state = PREV
					}
				}
				set_state_controller_to = SOV
			}
			if = {
				limit = {
					OR = {
						state_strategic_value > 15
						any_neighbor_state = {
							owner = {
								has_war_with = SOV
							}
						}
					}
				}
				create_unit = {
					division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
					owner = SOV
				}
			}
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		if = {
			limit = {
				FIN = {
					exists = yes
					is_puppet_of = ROOT
				}
			}
			set_autonomy = {
				target = FIN
				autonomy_state = autonomy_free
				end_wars = yes
				end_civil_wars = no
			}
			FIN = {
				leave_faction = yes
				if = {
					limit = { NOT = { has_idea = neutrality_idea } }
					add_ideas = neutrality_idea
				}
			}
			if = {
				limit = {
					FIN = {
						has_war = yes
					}
				}
				every_enemy_country = {
					white_peace = FIN
				}
			}
		}
		else = {
			release = FIN
		}
		SOV = {
			set_capital = {
				state = 219
			}
		}
	}
	
	option = {#oh thats very not good
		name = rus_civilwar.5.a
		hidden_effect = {
			country_event = {
				id = rus_civilwar.8
				days = 5
			}
		}
	}
}

country_event = { #collapse of russian control in europe
	id = rus_civilwar.8
	title = rus_civilwar.8.t	
	desc = rus_civilwar.8.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		every_owned_state = {
			limit = {
				OR = {
					state = 246
					state = 242
					state = 247
					state = 210
					state = 810
					state = 207
					state = 241
					state = 206
					state = 204
					state = 95
					state = 96
					state = 784
					state = 243
					state = 241
					state = 205
					state = 223
					state = 244
					state = 253
					state = 215
					state = 247
				}
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
			SOV = {
				set_state_owner = PREV
			}
			if = {
				limit = {
					RUS = {
						controls_state = PREV
					}
				}
				set_state_controller_to = SOV
			}
			if = {
				limit = {
					OR = {
						state_strategic_value > 15
						any_neighbor_state = {
							owner = {
								has_war_with = SOV
							}
						}
					}
				}
				create_unit = {
					division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
					owner = SOV
				}
			}
		}
		RUS = {
			add_ideas = {
				RUS_russian_civil_war
			}
			if = {
				limit = {
					NOT = { 
						has_completed_focus = RUS_promote_the_all_russian_nation
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = MOL
						}
					}
					release = MOL
					MOL = {
						every_owned_state = {
							RUS = {
								delete_unit = { 
									state = PREV
									disband = yes
								}
							}
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = UKR
						}
					}
					release = UKR
					UKR = {
						every_owned_state = {
							RUS = {
								delete_unit = { 
									state = PREV
									disband = yes
								}
							}
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = POL
						}
					}
					release = POL
					POL = {
						every_owned_state = {
							RUS = {
								delete_unit = { 
									state = PREV
									disband = yes
								}
							}
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_core_of = POL
						}
					}
					release = FIN
				}
				if = {
					limit = {
						137 = {
							is_owned_by = ROOT
						}
					}
					137 = {
						transfer_state_to = RUS
					}
				}
			
				935 = {
					transfer_state_to = RUS
				}
				914 = {
					transfer_state_to = SOV
				}
				722 = {
					transfer_state_to = SOV
				}
				240 = {
					transfer_state_to = UKR
				}
				194 = {
					transfer_state_to = UKR
				}
				94 = {
					transfer_state_to = UKR
				}
				UKR = {
					division_template = {
						name = "Ukranian Infantry Division"
						is_locked = no
						priority = 0
						template_counter = 0
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
							infantry = { x = 1 y = 0 }
						}
					}
					202 = {
						create_unit = { 
							division = "name = \"Infantry Division\" division_template = \"Ukranian Infantry Division\" start_experience_factor = 0.5" 
							owner = UKR
							prioritize_location = 525
							allow_spawning_on_enemy_provs = no
							count = 10
						}
					}
					add_ai_strategy = {
						type = prepare_for_war 
						id = SOV
						value = 1000
					}
				}
			}
			
			set_capital = {
				state = 571
				remember_old_capital = yes
			}
			send_equipment = {
				equipment = infantry_equipment
				amount = 5000
				target = SOV
			}
			send_equipment = {
				equipment = support_equipment
				amount = 1000
				target = SOV
			}
			send_equipment = {
				equipment = artillery_equipment
				amount = 1000
				target = SOV
			}
			set_country_flag = RUS_no_more_commie_radical
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		if = {
			limit = {
				has_completed_focus = RUS_funds_from_international_communists
			}
			SOV = {
				add_ideas = {
					SOV_funds_from_international_communists
				}
			}
		}
		if = {
			limit = {
				NOT = { has_completed_focus = RUS_consolidate_the_party }
			}
			SOV = {
				add_ideas = {
					SOV_disorganised_party
				}
			}
		}
		SOV = {
			add_ideas = {
				RUS_russian_civil_war
			}
			hidden_effect = {
				every_controlled_state = {
					limit = {
						OR = {
							any_neighbor_state = {
								controller = {
									has_war_with = SOV
								}
							}
							has_dynamic_modifier = {
								modifier = RUS_local_soviets_modifier
							}
						}
					}
					random_list = {
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 0
								RUS = {
									has_completed_focus = RUS_prepare_for_a_civil_war
								}
							}
						}
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 2
								has_dynamic_modifier = {
									modifier = RUS_local_soviets_modifier
								}
							}
						}
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 2
								RUS = {
									has_completed_focus = RUS_prepare_for_a_civil_war
								}
							}
						}
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"Red Guard\" division_template = \"Red Guard\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 0 
								has_dynamic_modifier = {
									modifier = RUS_local_soviets_modifier
								}
							}
						}
					}
					remove_core_of = RUS
				}
			}
			hidden_effect = { #Releasing the caucases
				every_country = {
					limit = {
						OR = {
							is_puppet_of = ROOT
							tag = ROOT
						}
						any_owned_state = {
							OR = {
								is_core_of = GEO
								is_core_of = ARM
								is_core_of = AZR
							}
						}
					}
					release = GEO
					release = ARM
					if = {
						limit = {
							any_other_country = {
								has_cosmetic_tag = transcaucasia_unified
								tag = event_target:transcaucasia_event_target
								owns_state = 229
							}
						}
						event_target:transcaucasia_event_target = {
							drop_cosmetic_tag = yes
							set_cosmetic_tag = ARM
						}
					}
					else = {

					}
				}
				if = {
					limit = {
						has_war_with = GER
					}
					GER = {
						if = {
							limit = {
								OR = {
									has_dlc = "Together for Victory"
									has_dlc = "Man the Guns"
									has_dlc = "Death or Dishonor"
								}
							}
							set_autonomy = {
								target = GEO
								autonomous_state = autonomy_satellite
							}
							else = {
								puppet = GEO
							}
						}
					}
				}
				if = {
					limit = {
						has_war_with = OTT
						OTT = {
							owns_state = 354
						}
					}
					OTT = {
						transfer_state = 828
						transfer_state = 842
					}
				}
				else_if = {
					limit = {
						ARM = {
							OR = {
								owns_state = 354
								owns_state = 230
							}
						}
					}
					ARM = {
						transfer_state = 842
					}
				}
				else = {
					GEO = {
						transfer_state = 828
					} 
				}
				if = {
					limit = {
						OTT = {
							controls_state = 230
						}
					}
					OTT = {
						puppet = ARM
					}
				}
				drop_cosmetic_tag = yes
				GEO = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = yes
					}
					set_popularities = {
						democratic = 50
						neutrality = 10
						fascism = 5
						communism = 35
					}
				}
			}
			
		}
	}
	
	option = {#Ah fuck
		name = rus_civilwar.8.a
	}

	option = {#well, off to ukraine boys!
		name = rus_civilwar.8.b
		UKR = { change_tag_from = ROOT }
	}
}

#######################
#Normal Russian events#
#######################

add_namespace = rus_events

#POTSDAM!!!!

country_event = { #Potsdam Meeting
	id = rus_events.1
	title = rus_events.1.t	
	desc = rus_events.1.desc

	is_triggered_only = yes

	fire_only_once = yes
	
	option = {#Demand full russian control of persia
		name = rus_events.1.a

		set_global_flag = RUS_russian_full_access_flag
		GER = {
			country_event = {
				id = rus_events.2
				days = 5
			}
		}

		ai_chance = {
			factor = 8
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#Allow Germans railroads in persia
		name = rus_events.1.b

		set_global_flag = RUS_german_railroads_flag

		ai_chance = {
			factor = 10
		}

		GER = {
			country_event = {
				id = rus_events.2
				days = 5
			}
		}
	}

	option = {#Give Germans full access to persia
		name = rus_events.1.c

		set_global_flag = RUS_german_full_access_flag

		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		GER = {
			country_event = {
				id = rus_events.2
				days = 5
			}
		}
	}
}

country_event = { #Potsdam Meeting for germans
	id = rus_events.2
	title = rus_events.2.t	
	desc = rus_events.2.desc

	is_triggered_only = yes
	
	option = {#No, we demand more!
		name = rus_events.2.a

		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.8
				FROM = {
					is_ai = no
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				has_global_flag = RUS_german_railroads_flag
			}
		}

		trigger = {
			NOT = {
				has_global_flag = RUS_german_full_access_flag
			}
		}

		FROM = {
			country_event = {
				id = rus_events.4
				days = 5
			}
		}
	}

	option = {#Fine.
		name = rus_events.2.b
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		FROM = {
			country_event = {
				id = rus_events.3
				days = 5
			}
		}
	}
}

country_event = { #germans agree!
	id = rus_events.3
	title = rus_events.3.t	
	desc = rus_events.3.desc

	is_triggered_only = yes
	
	option = {#Great!
		name = rus_events.3.a
		set_country_flag = RUS_ger_agree_potsdam
	}
}

country_event = { #germans want more
	id = rus_events.4
	title = rus_events.4.t	
	desc = rus_events.4.desc

	is_triggered_only = yes
	
	option = {#Fine
		name = rus_events.4.a
		clr_global_flag = RUS_russian_full_access_flag 
		set_global_flag = RUS_german_railroads_flag
		FROM = {
			country_event = {
				id = rus_events.5
				days = 5
			}
		}
		trigger = {
			has_global_flag = RUS_russian_full_access_flag
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#Fine
		name = rus_events.4.a
		clr_global_flag = RUS_german_railroads_flag
		set_global_flag = RUS_german_full_access_flag
		FROM = {
			country_event = {
				id = rus_events.5
				days = 5
			}
		}
		trigger = {
			has_global_flag = RUS_german_railroads_flag
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#What? No!
		name = rus_events.4.b
		FROM = {
			country_event = {
				id = rus_events.6
				days = 5
			}
		}
		ai_chance = {
			factor = 7
		}
	}
}

country_event = { #Russians agree!
	id = rus_events.5
	title = rus_events.5.t	
	desc = rus_events.5.desc

	is_triggered_only = yes
	
	option = {#great!
		name = rus_events.5.a
		set_country_flag = RUS_ger_agree_potsdam
	}

	option = {#demand more
		name = rus_events.5.b
		FROM = {
			country_event = {
				id = rus_events.4
				days = 5
			}
		}
		trigger = {
			NOT = {
				has_global_flag = RUS_german_full_access_flag
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #Russians disagree!
	id = rus_events.6
	title = rus_events.6.t	
	desc = rus_events.6.desc

	is_triggered_only = yes
	
	option = {#fine...
		name = rus_events.6.a
		FROM = {
			country_event = {
				id = rus_events.7
				days = 5
			}
		}
		ai_chance = {
			factor = 5
		}
	}

	option = {#Leave St Petersburg
		name = rus_events.6.b
		RUS = {
			country_event = {
				id = rus_events.8
				days = 5
			}
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #germans back down
	id = rus_events.7
	title = rus_events.7.t	
	desc = rus_events.7.desc

	is_triggered_only = yes
	
	option = {#great
		name = rus_events.7.a
		set_country_flag = RUS_ger_agree_potsdam
	}
}

country_event = { #germans leave
	id = rus_events.8
	title = rus_events.8.t	
	desc = rus_events.8.desc

	is_triggered_only = yes
	
	option = {#ah
		name = rus_events.7.a
		clr_global_flag = RUS_russian_full_access_flag
		clr_global_flag = RUS_german_railroads_flag
		clr_global_flag = RUS_german_full_access_flag
		set_country_flag = RUS_germans_leave_potsdam
	}
}

#potsdam done

country_event = { #russians ask help with training
	id = rus_events.9
	title = rus_events.9.t	
	desc = rus_events.9.desc

	is_triggered_only = yes
	
	option = {#yes
		name = rus_events.9.a
		effect_tooltip = {
			army_experience = 50
			add_timed_idea = {
				idea = RUS_joint_training
				days = 100
			}
			RUS = {
				army_experience = 75
				add_timed_idea = {
					idea = RUS_joint_training
					days = 100
				}
			}
		}
		FROM = {
			country_event = {
				id = rus_events.10 days = 1
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {#no
		name = rus_events.8.b
		FROM = {
			country_event = {
				id = rus_events.11 days = 1
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { #french accept
	id = rus_events.10
	title = rus_events.10.t	
	desc = rus_events.10.desc

	is_triggered_only = yes
	
	option = {#great
		name = rus_events.10.a
		army_experience = 75
		add_timed_idea = {
			idea = RUS_joint_training
			days = 100
		}
		FRA = {
			army_experience = 50
			add_timed_idea = {
				idea = RUS_joint_training
				days = 100
			}
		}
	}
}

country_event = { #french decline
	id = rus_events.11
	title = rus_events.11.t	
	desc = rus_events.11.desc

	is_triggered_only = yes
	
	option = {#crap
		name = rus_events.11.a
	}
}

country_event = { #duma election
	id = rus_events.12
	title = rus_events.12.t	
	desc = rus_events.12.desc

	is_triggered_only = yes
	
	option = {#tsarist majority
		name = rus_events.12.a
		set_country_flag = RUS_duma_tsarist_majority_flag
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#No clear Majority
		name = rus_events.12.b
		set_country_flag = RUS_duma_no_majority_flag
		ai_chance = {
			factor = 5
		}
	}

	option = {#Socialist majority
		name = rus_events.12.c
		set_country_flag = RUS_duma_socialist_majority_flag
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #formation of the consituent assembly
	id = rus_events.13
	title = rus_events.13.t	
	desc = rus_events.13.desc

	is_triggered_only = yes
	
	option = {#hopefully this will win us the war
		name = rus_events.13.a
		add_political_power = 50
		add_stability = 0.02
	}
}

country_event = { #Russians attempt to seize tannu tuva
	id = rus_events.14
	title = rus_events.14.t	
	desc = rus_events.14.desc

	is_triggered_only = yes
	
	option = {#We resisted against their attacks
		name = rus_events.14.a
		effect_tooltip = {
			RUS = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		hidden_effect = {
			RUS = {
				country_event = { id = rus_events.15 }
			}
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.5
				FROM = {
					is_ai = no
				}
			}
		}
	}

	option = {#Russian forces quickly took control
		name = rus_events.14.b
		RUS = {
			country_event = { id = rus_events.16 }
		}
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #The invasion of tannu tuva failed
	id = rus_events.15
	title = rus_events.15.t	
	desc = rus_events.15.desc

	is_triggered_only = yes
	
	option = {#Fine, we'll have to do it ourselves
		name = rus_events.15.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #fate of tanu tuva
	id = rus_events.16
	title = rus_events.16.t	
	desc = rus_events.16.desc

	is_triggered_only = yes
	
	option = {#Puppet Tannu tuva
		name = rus_events.16.a
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					has_dlc = "Man the Guns"
				}
			}
			set_autonomy = {
				target = TAN
				autonomous_state = autonomy_integrated_puppet
			}
			else = {
				puppet = TAN
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#Completely annex it
		name = rus_events.16.b
		annex_country = {
			target = TAN
		}
		329 = {
			set_compliance = 60
			set_resistance = 0
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #Russia sends an ultimatum
	id = rus_events.17
	title = rus_events.17.t	
	desc = rus_events.17.desc

	is_triggered_only = yes
	
	option = {#We shall not surrender
		name = rus_events.17.a
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#Completely annex it
		name = rus_events.17.b
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					has_dlc = "Man the Guns"
				}
			}
			set_autonomy = {
				target = TAN
				autonomous_state = autonomy_integrated_puppet
			}
			else = {
				puppet = TAN
			}
		}
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #How to divide up persia?
	id = rus_events.18
	title = rus_events.18.t	
	desc = rus_events.18.desc

	is_triggered_only = yes
	
	option = {#Divide it up with only germany
		name = rus_events.18.a
		effect_tooltip = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
			GER = {
				transfer_state = 421
				transfer_state = 417
				transfer_state = 413
				transfer_state = 411
				transfer_state = 414
				transfer_state = 412
				transfer_state = 410
			}
		}
		hidden_effect = {
			GER = { country_event = { id = rus_events.19 days = 1 } }
		}
		set_country_flag = RUS_only_ger_owns_persia
		custom_effect_tooltip = RUS_eng_might_interfere
		trigger = {
			NOT = {
				is_in_faction_with = ENG
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#Divide it three ways with britain included
		name = rus_events.18.b
		effect_tooltip = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
			GER = {
				transfer_state = 421
				transfer_state = 417
				transfer_state = 413
			}
			ENG = {
				transfer_state = 411
				transfer_state = 414
				transfer_state = 412
				transfer_state = 410
			}
		}
		hidden_effect = {
			GER = { country_event = { id = rus_events.23 days = 1 } }
			ENG = { country_event = { id = rus_events.23 days = 1 } }
		}
		set_country_flag = RUS_britain_also_owns_persia
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #dividing with only germany - germany
	id = rus_events.19
	title = rus_events.19.t	
	desc = rus_events.19.desc

	is_triggered_only = yes
	
	option = {#great!
		name = rus_events.18.a
		effect_tooltip = {
			FROM = {
				transfer_state = 419
				transfer_state = 832
				transfer_state = 266
				transfer_state = 420
				transfer_state = 416
				transfer_state = 418
			}
			GER = {
				transfer_state = 421
				transfer_state = 417
				transfer_state = 413
				transfer_state = 411
				transfer_state = 414
				transfer_state = 412
				transfer_state = 410
			}
		}
		random_list = {
			50 = {
				hidden_effect = {
					ENG = { country_event = { id = rus_events.10002 days = 1 } }
				}
			}
			50 = {
			}
		}
		custom_effect_tooltip = RUS_eng_might_interfere
		trigger = {
			NOT = {
				is_in_faction_with = ENG
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#give britain some land
		name = rus_events.18.b
		effect_tooltip = {
			FROM = {
				transfer_state = 419
				transfer_state = 832
				transfer_state = 266
				transfer_state = 420
				transfer_state = 416
				transfer_state = 418
			}
			GER = {
				transfer_state = 421
				transfer_state = 417
				transfer_state = 413
			}
			ENG = {
				transfer_state = 411
				transfer_state = 414
				transfer_state = 412
				transfer_state = 410
			}
		}
		custom_effect_tooltip = RUS_eng_might_interfere
		trigger = {
			is_in_faction_with = ENG
		}
		hidden_effect = {
			RUS = {
				country_event = { id = rus_events.20 days = 1 }
			}
			ENG = {
				country_event = { id = rus_events.21 days = 1 }
			}
		}
		ai_chance = {
			factor = 5
		}
	}

	option = {#hmm, decline
		name = rus_events.18.c
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #dividing with only germany - uk
	id = rus_events.10002
	title = rus_events.10002.t	
	desc = rus_events.10002.desc

	is_triggered_only = yes
	
	option = {#we demand some concessions
		name = rus_events.10002.a
		effect_tooltip = {
			transfer_state = 411
			transfer_state = 414
			transfer_state = 412
			transfer_state = 410
		}
		RUS = {
			custom_effect_tooltip = needs_approval
			hidden_effect = {
				country_event = { id = rus_events.20 days = 1 }
			}
		}

		ai_chance = {
			factor = 10
		}
	}

	option = {#hmm, they can have it
		name = rus_events.10002.b
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { #demanded britain gain some land
	id = rus_events.20
	title = rus_events.20.t	
	desc = rus_events.20.desc

	is_triggered_only = yes
	
	option = {#fine
		name = rus_events.20.a
		effect_tooltip = {
			RUS = {
				transfer_state = 419
				transfer_state = 832
				transfer_state = 266
				transfer_state = 420
				transfer_state = 416
				transfer_state = 418
			}
			GER = {
				transfer_state = 421
				transfer_state = 417
				transfer_state = 413
			}
			ENG = {
				transfer_state = 411
				transfer_state = 414
				transfer_state = 412
				transfer_state = 410
			}
		}
		clr_country_flag = RUS_only_ger_owns_persia
		set_country_flag = RUS_britain_also_owns_persia
		ai_chance = {
			factor = 10
		}
	}

	option = {#NO 
		name = rus_events.20.b
		ai_chance = {
			factor = 1
		}
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						tag = GER
					}
				}
				GER = {
					ENG = {
						country_event = { id = rus_events.22 days = 1 }
					}
				}
			}
			ENG = {
				country_event = { id = rus_events.22 days = 1 }
			}
		}
		
		effect_tooltip = {
			if = {
				limit = {
					FROM = {
						tag = GER
					}
				}
				GER = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = ROOT
					}
				}
			}
			ENG = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		
	}
}

country_event = { #notifying britain that germany demanded land on their behalf
	id = rus_events.21
	title = rus_events.21.t	
	desc = rus_events.21.desc

	is_triggered_only = yes
	
	option = {#thanks mate
		name = rus_events.21.a
		effect_tooltip = {
			RUS = {
				transfer_state = 419
				transfer_state = 832
				transfer_state = 266
				transfer_state = 420
				transfer_state = 416
				transfer_state = 418
			}
			GER = {
				transfer_state = 421
				transfer_state = 417
				transfer_state = 413
			}
			ENG = {
				transfer_state = 411
				transfer_state = 414
				transfer_state = 412
				transfer_state = 410
			}
		}
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { #Russia doesnt give britain land
	id = rus_events.22
	title = rus_events.22.t	
	desc = rus_events.22.desc

	is_triggered_only = yes
	
	option = {#well, we need this land, this war will be over by christmas
		name = rus_events.22.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = RUS
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#were not gonna go to war just for persia
		name = rus_events.22.b
		ai_chance = {
			factor = 1
		}
	}
}

country_event = { #Russia splits persia 3 ways
	id = rus_events.23
	title = rus_events.23.t	
	desc = rus_events.23.desc

	is_triggered_only = yes
	
	option = {#great!
		name = rus_events.23.a
		effect_tooltip = {
			RUS = {
				transfer_state = 419
				transfer_state = 832
				transfer_state = 266
				transfer_state = 420
				transfer_state = 416
				transfer_state = 418
			}
			GER = {
				transfer_state = 421
				transfer_state = 417
				transfer_state = 413
			}
			ENG = {
				transfer_state = 411
				transfer_state = 414
				transfer_state = 412
				transfer_state = 410
			}
		}
		hidden_effect = {
			if = {
				limit = {
					tag = ENG
				}
				RUS = {
					country_event = { id = rus_events.27 days = 1 }
				}
			}
			else_if = {
				limit = {
					tag = GER
				}
				RUS = {
					country_event = { id = rus_events.26 days = 1 }
				}
			}
		}
		
		ai_chance = {
			factor = 10
		}
	}

	option = {#I'd rather not
		name = rus_events.23.b
		hidden_effect = {
			if = {
				limit = {
					tag = ENG
				}
				RUS = {
					country_event = { id = rus_events.25 days = 1 }
				}
			}
			else_if = {
				limit = {
					tag = GER
				}
				RUS = {
					country_event = { id = rus_events.24 days = 1 }
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

country_event = { #germwany no accewpt
	id = rus_events.24
	title = rus_events.24.t	
	desc = rus_events.24.desc

	is_triggered_only = yes
	
	option = {#oh
		name = rus_events.23.a
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { #englwand no accewpt
	id = rus_events.25
	title = rus_events.25.t	
	desc = rus_events.25.desc

	is_triggered_only = yes
	
	option = {#so uh, germany?
		name = rus_events.25.a
		clr_country_flag = RUS_britain_also_owns_persia
		set_country_flag = RUS_only_ger_owns_persia
		ai_chance = {
			factor = 10
		}
	}
}
country_event = { #germoney accept!!!!!!!!! Jerma
	id = rus_events.26
	title = rus_events.26.t	
	desc = rus_events.26.desc

	is_triggered_only = yes
	
	option = {#alr
		name = rus_events.26.a
		ai_chance = {
			factor = 10
		}
		set_country_flag = RUS_can_demand_persia
	}
}

country_event = { #england accept!!!! greqaat

	id = rus_events.27
	title = rus_events.27.t	
	desc = rus_events.27.desc

	is_triggered_only = yes
	
	option = {#alr
		name = rus_events.27.a
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { #omg big scawwwy wussia demwans puuuuuwsia

	id = rus_events.28
	title = rus_events.28.t	
	desc = rus_events.28.desc

	is_triggered_only = yes
	
	option = {#ok daddy
		name = rus_events.28.a
		RUS = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
		}
		GER = {
			transfer_state = 421
			transfer_state = 417
			transfer_state = 413
		}
		ENG = {
			transfer_state = 411
			transfer_state = 414
			transfer_state = 412
			transfer_state = 410
		}
		trigger = {
			RUS = {
				has_country_flag = RUS_britain_also_owns_persia
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#ok daddy 2 electric boogaloo
		name = rus_events.28.a

		FROM = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
		}
		GER = {
			transfer_state = 421
			transfer_state = 417
			transfer_state = 413
			transfer_state = 411
			transfer_state = 414
			transfer_state = 412
			transfer_state = 410
		}

		trigger = {
			RUS = {
				has_country_flag = RUS_only_ger_owns_persia
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#ga mau1!!!!!!!111!!
		name = rus_events.28.b
		if = {
			limit = {
				RUS = {
					has_country_flag = RUS_britain_also_owns_persia
				}
			}
			ENG = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		GER = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROOT
			}
		}
		RUS = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROOT
			}
		}
		ai_chance = {
			factor = 8
			modifier = {
				factor = 0.5
				FROM = {
					is_ai = no
				}
			}
		}
	}
}

country_event = { #russia wants to build railways in manchuria
	id = rus_events.29
	title = rus_events.29.t	
	desc = rus_events.29.desc

	is_triggered_only = yes
	
	option = {#fine
		name = rus_events.29.a
		RUS = {
			country_event = { id = rus_events.30 }
		}

		every_owned_state = {
			limit = {
				OR = {
					state = 761 
					state = 714
					state = 717
					state = 328
					state = 715
					state = 716 
				}
			}
			add_dynamic_modifier = {
				modifier = RUS_trans_siberian_railway_construction
			}
		}
		give_military_access = RUS
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.05
				original_tag = QIN
			}
		}
	}

	option = {#nah
		name = rus_events.29.b
		add_political_power = 25
		RUS = {
			country_event = { id = rus_events.31 }
		}
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { #from accepts
	id = rus_events.30
	title = rus_events.30.t	
	desc = rus_events.30.desc

	is_triggered_only = yes
	
	option = {#great
		name = rus_events.30.a
		set_country_flag = RUS_able_to_build_man
		every_owned_state = {
			limit = {
				OR = {
					state = 761 
					state = 714
					state = 717
					state = 328
					state = 715
					state = 716 
				}
			}
			add_dynamic_modifier = {
				modifier = RUS_trans_siberian_railway_construction
			}
		}
		give_military_access = RUS
		ai_chance = {
			factor = 120
		}
	}
}

country_event = { #from declines
	id = rus_events.31
	title = rus_events.31.t	
	desc = rus_events.31.desc

	is_triggered_only = yes
	
	option = {#oof
		name = rus_events.31.a
		ai_chance = {
			factor = 120
		}
	}
}

country_event = { #russia wants to strengthen the entente
	id = rus_events.32
	title = rus_events.32.t	
	desc = rus_events.32.desc

	is_triggered_only = yes

	# i totally didnt copy this from glug :troll:
	
	option = { #sounds good bro
		name = rus_events.32.a
		ai_chance = {
			factor = 20
		}
		effect_tooltip = {
			FROM = {
				create_faction = entente_faction
			}
			ROOT = {
				add_to_faction = FROM
			}
		}
	}
	option = { #no we ain't besties yet bro
		name = rus_events.32.b
		ai_chance = {
			factor = 0
		}
		FROM = {
			country_event = { id = french_events.8 hours = 2 }
		}
	}
}

country_event = { #they declined??WA?D?AWdawdjawdw wrf.....
	id = rus_events.33
	title = rus_events.33.t	
	desc = rus_events.33.desc

	is_triggered_only = yes
	
	option = { #wrf....
		name = rus_events.33.a
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
	}
}

country_event = { #yooo they accepted
	id = rus_events.34
	title = rus_events.34.t	
	desc = rus_events.34.desc

	is_triggered_only = yes
	
	option = { #great
		name = rus_events.34.a
		add_political_power = 75
		add_war_support = 0.05
		create_faction = entente_faction
		FROM = {
			add_to_faction = ROOT
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}