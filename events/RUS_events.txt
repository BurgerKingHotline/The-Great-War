add_namespace = rus_stability

#strike in lena
country_event = {
	id = rus_stability.1
	title = rus_stability.1.t	
	desc = rus_stability.1.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = { #kill them
		name = rus_stability.1.a
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = 10
			tooltip = RUS_socialist_radicalisation_increase
		}
		add_stability = -0.1
	}

	option = { #do nothing
		name = rus_stability.1.b
		add_political_power = -300
		add_stability = -0.05
	}

	option = { #accept their reforms
		name = rus_stability.1.c
		add_political_power = -500
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = -10
			tooltip = RUS_socialist_radicalisation_increase
		}
		add_popularity = {
			ideology = communism
			popularity = -0.1
		}
	}
}

country_event = { #stability selector event
	id = rus_stability.2
	title = rus_stability.2.t	
	desc = rus_stability.2.desc	

	hidden = yes

	trigger = {
		original_tag = RUS
		has_country_flag = RUS_revolutionaries_active
	}

	mean_time_to_happen = { 
		days = 100
		modifier = {
			factor = 0.25
			is_debug = yes
		}
		modifier = {
			factor = 1.5
			has_idea = disarmed_nation
		}
		modifier = {
			factor = 1.5
			has_idea = isolation
		}
		modifier = {
			factor = 1.25
			has_idea = civilian_economy
		}
		modifier = {
			factor = 1.25
			neutrality > 0.7
		}
		modifier = {
			factor = 0.85
			neutrality > 0.5
		}
		modifier = {
			factor = 0.9
			has_war = yes
		}
		modifier = {
			factor = 0.8
			surrender_progress > 0.1
		}
		modifier = {
			factor = 0.8
			check_variable = { RUS_socialist_radicalisation > 35 }
		}
		modifier = {
			factor = 0.8
			check_variable = { RUS_socialist_radicalisation > 55 }
		}
		modifier = {
			factor = 0.8
			check_variable = { RUS_socialist_radicalisation > 70 }
		}
		modifier = {
			factor = 0.85
			casualties_k > 500
		}
		modifier = {
			factor = 0.85
			OR = {
				has_stability < 0.6
				has_war_support < 0.6
			}
		}
		modifier = {
			factor = 0.85
			OR = {
				has_stability < 0.4
				has_war_support < 0.4
			}
		}
		modifier = {
			factor = 0.85
			OR = {
				has_stability < 0.2
				has_war_support < 0.2
			}
		}
	}

	immediate = {
		random_list = {
			1 = {
				country_event = rus_stability.3
			}
			1 = {
				country_event = rus_stability.4
			}
			1 = {
				country_event = rus_stability.5
			}
			1 = {
				country_event = rus_stability.6
			}
			1 = {
				country_event = rus_stability.7
			}
			1 = {
				country_event = rus_stability.8
				modifier = {
					factor = 0 
					threat < 0.15
				}
			}
			1 = {
				country_event = rus_stability.9
			}
			1 = {
				country_event = rus_stability.10
			}
			1 = {
				country_event = rus_stability.11
			}
			1 = {
				country_event = rus_stability.12
			}
			1 = {
				country_event = rus_stability.13
			}
			1 = {
				country_event = rus_stability.14
				modifier = {
					factor = 0 
					has_war = no
				}
			}
			1 = {
				country_event = rus_stability.15
			}
			1 = {
				country_event = rus_stability.16
				modifier = {
					factor = 0 
					has_war = no
				}
			}
		}
	}
	
	option = {
		name = rus_stability.2.a
	}
}

country_event = { #fire in factory
	id = rus_stability.3
	title = rus_stability.3.t	
	desc = rus_stability.3.desc	

	is_triggered_only = yes

	immediate = {
		random_owned_state = {
			limit = {
				industrial_complex > 2
			}
			damage_building = {
				type = industrial_complex
				damage = 1.25
			}
			damage_building = {
				type = industrial_complex
				damage = 1.25
			}
			damage_building = {
				type = industrial_complex
				damage = 1.25
			}
		}
	}
	
	option = { #make no changes
		name = rus_stability.3.a
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = 3
			tooltip = RUS_socialist_radicalisation_increase
		}
	}

	option = { #strengthen regulations
		name = rus_stability.3.b
		add_political_power = -50
		add_stability = -0.05
	}
}

country_event = { #locals demand more autonomy
	id = rus_stability.4
	title = rus_stability.4.t	
	desc = rus_stability.4.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #fine
		name = rus_stability.4.a
		add_political_power = -50
	}

	option = { #no
		name = rus_stability.4.b
		random_owned_state = {
			limit = {
				NOT = {
					is_core_of = ROOT
				}
			}
			add_resistance = 25
		}
		add_stability = -0.02	
	}
}
country_event = { #a minor noble erupts a scandal
	id = rus_stability.5
	title = rus_stability.5.t	
	desc = rus_stability.5.desc	

	is_triggered_only = yes
	
	option = { #do nothing
		name = rus_stability.5.a
		add_political_power = -50
	}

	option = { #kick him from the family
		name = rus_stability.5.b
		add_stability = -0.02
		add_political_power = -25	
	}
}
country_event = { #scathing critique of the tsar
	id = rus_stability.6
	title = rus_stability.6.t	
	desc = rus_stability.6.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #censor it!
		name = rus_stability.6.a
		add_popularity = {
			ideology = neutrality
			popularity = -0.05
		}
	}
}
country_event = { #socialist propaganda backfires
	id = rus_stability.7
	title = rus_stability.7.t	
	desc = rus_stability.7.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #great!
		name = rus_stability.7.a
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}
}
country_event = { #tensions across the world increase
	id = rus_stability.8
	title = rus_stability.8.t	
	desc = rus_stability.8.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #we can use this for propaganda purposes
		name = rus_stability.8.a
		add_war_support = 0.05
	}
}
country_event = { #local strike
	id = rus_stability.9
	title = rus_stability.9.t	
	desc = rus_stability.9.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #fire on them
		name = rus_stability.9.a
		add_stability = -0.05
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = 5
			tooltip = RUS_socialist_radicalisation_increase
		}
	}

	option = { #do nothing
		name = rus_stability.9.b
		if = {
			limit = {
				NOT = {
					has_idea = RUS_strike
				}
			}
			add_timed_idea = {
				idea = RUS_strike
				days = 90
			}
		}
		else = {
			modify_timed_idea = {
				idea = RUS_strike
				days = 90
			}
		}
	}
}
country_event = { #larger strike
	id = rus_stability.10
	title = rus_stability.10.t	
	desc = rus_stability.10.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #fire on them
		name = rus_stability.9.a
		add_stability = -0.08
		add_popularity = {
			ideology = communism
			popularity = 0.08
		}
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = 8
			tooltip = RUS_socialist_radicalisation_increase
		}
	}

	option = { #do nothing
		name = rus_stability.9.b
		if = {
			limit = {
				NOT = {
					has_idea = RUS_strike
				}
			}
			add_timed_idea = {
				idea = RUS_strike
				days = 180
			}
		}
		else = {
			modify_timed_idea = {
				idea = RUS_strike
				days = 120
			}
		}
	}
}
country_event = { #national unrest
	id = rus_stability.11
	title = rus_stability.11.t	
	desc = rus_stability.11.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #geat
		name = rus_stability.11.a
		add_stability = -0.05
		add_war_support = -0.05
		every_controlled_state = {
			limit = {
				NOT = {
					is_core_of = ROOT
				}
			}
			add_resistance = 25
		}
	}
}
country_event = { #great harvest
	id = rus_stability.12
	title = rus_stability.12.t	
	desc = rus_stability.12.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #great!
		name = rus_stability.12.a
		add_stability = 0.05
		if = {
			limit = {
				NOT = {
					has_idea = RUS_great_harvest
				}
			}
			add_timed_idea = {
				idea = RUS_great_harvest
				days = 180
			}
		}
		else = {
			modify_timed_idea = {
				idea = RUS_great_harvest
				days = 120
			}
		}
	}
}
country_event = { #clamour for education reform
	id = rus_stability.13
	title = rus_stability.13.t	
	desc = rus_stability.13.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #fine
		name = rus_stability.13.a
		add_stability = 0.05
		add_political_power = -100
	}

	option = { #great!
		name = rus_stability.13.b
		if = {
			limit = {
				NOT = {
					has_idea = RUS_horrible_education
				}
			}
			add_timed_idea = {
				idea = RUS_horrible_education
				days = 180
			}
		}
		else = {
			modify_timed_idea = {
				idea = RUS_horrible_education
				days = 120
			}
		}
	}
}
country_event = { #soldier becomes a hero
	id = rus_stability.14
	title = rus_stability.14.t	
	desc = rus_stability.14.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #graet
		name = rus_stability.14.a
		add_war_support = 0.05
	}
}
country_event = { #tsar visits a local area
	id = rus_stability.15
	title = rus_stability.15.t	
	desc = rus_stability.15.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #graet
		name = rus_stability.15.a
		add_stability = 0.05
		add_popularity = {
			ideology = neutrality 
			popularity = 0.08
		}
	}
}
country_event = { #generals criticise the tsar over military operations
	id = rus_stability.16
	title = rus_stability.16.t	
	desc = rus_stability.16.desc	

	is_triggered_only = yes

	immediate = {
	}
	
	option = { #aaa
		name = rus_stability.16.a
		add_war_support = -0.05
		army_experience = -50
	}
}
#########################
#Russian civilwar events#
#########################

add_namespace = rus_civilwar

#february revolution
country_event = {
	id = rus_civilwar.1
	title = rus_civilwar.1.t	
	desc = rus_civilwar.1.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = { #february revolution works!
		name = rus_civilwar.1.a
		set_country_flag = RUS_ferbruary_revolution_flag
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = -15
			tooltip = RUS_socialist_radicalisation_increase
		}
		add_popularity = {
			ideology = democratic 
			popularity = 0.1
		}
		hidden_effect = { #Creating transcaucasia
			if = {
				limit = {
					any_owned_state = {
						OR = {
							state = 229
							state = 230
							state = 231
							state = 826
							state = 828
							state = 842
						}
						is_controlled_by = ROOT
					}
				}
				create_dynamic_country = { 
					original_tag = AZR
					save_global_event_target_as = transcaucasia_event_target
					set_state_owner = 229 
					add_state_core = 229
					every_state = {
						limit = {
							OWNER = {
								tag = ROOT
								is_subject_of = ROOT
							}
							OR = {
								state = 230
								state = 229
								state = 971
								state = 842
								state = 970
								state = 231
								state = 826
								state = 828
								state = 354
								state = 800
								state = 819
								state = 832
							}
						}
						transfer_state_to = THIS
						add_core_of = THIS
					}
					set_cosmetic_tag = transcaucasia_unified
				}
				
				RUS = {
					if = {
						limit = {
							OR = {
								has_dlc = "Together for Victory"
								has_dlc = "Man the Guns"
							}
						}
						set_autonomy = {
							target = event_target:transcaucasia_event_target
							autonomous_state = autonomy_integrated_puppet
						}
						else = {
							puppet = event_target:transcaucasia_event_target
						}
					}
				}
			}
			if = {
				limit = {
					FIN = {
						OR = {
							is_puppet_of = ROOT
							exists = no
						}
					}
				}
				FIN = {
					transfer_state = 146
					transfer_state = 111
					transfer_state = 150
					transfer_state = 149
					transfer_state = 148
					transfer_state = 147
				}
				every_state = {
					limit = {
						OWNER = {
							tag = ROOT
							is_subject_of = ROOT
						}
						OR = {
							state = 148
							state = 147
							state = 146
							state = 150
							state = 111
							state = 149
							state = 145
						}
					}
					transfer_state_to = FIN
					add_core_of = FIN
				}
				if = {
					limit = {
						OR = {
							has_dlc = "Together for Victory"
							has_dlc = "Man the Guns"
						}
					}
					set_autonomy = {
						target = FIN
						autonomous_state = autonomy_integrated_puppet
					}
					else = {
						puppet = FIN
					}
				}
			}
		}
		
		hidden_effect = {
			country_event = { 
				id = rus_civilwar.2
				days = 30
				random = 10
			}
		}
	}

	option = { #it falls apart
		name = rus_civilwar.1.b
		add_political_power = -150
		set_country_flag = RUS_february_revolution_failed
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = 15
			tooltip = RUS_socialist_radicalisation_increase
		}
	}
}
country_event = { #who takes control of the government
	id = rus_civilwar.1000
	title = rus_civilwar.1000.t	
	desc = rus_civilwar.1000.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = { #tsar michael does
		name = rus_civilwar.1000.a
		promote_character = {
			character = RUS_michael
			ideology = despotism
		}
		add_stability = -0.05
		add_political_power = -25
		hidden_effect = {
			country_event = { 
				id = rus_civilwar.2
				days = 30
				random = 10
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0 
				is_historical_focus_on = yes
			}
		}
	}

	option = { #a provisional government is set up
		name = rus_civilwar.1000.b
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			election_frequency = 60
			last_election = "1907.10.1"
		}
		hold_election = ROOT
		ai_chance = {
			factor = 1
		}
	}
}

country_event = { #petrograd soviet formed
	id = rus_civilwar.2
	title = rus_civilwar.2.t	
	desc = rus_civilwar.2.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = {#oh thats not good
		name = rus_civilwar.2.a
		add_dynamic_modifier = {
			modifier = RUS_local_soviets_modifier
			scope = 195
		}
		hidden_effect = {
			country_event = { 
				id = rus_civilwar.3
				days = 15
				random = 10
			}
		}
	}
}

country_event = { #more soviet gets formed
	id = rus_civilwar.3
	title = rus_civilwar.3.t	
	desc = rus_civilwar.3.desc	

	is_triggered_only = yes

	fire_only_once = yes
	
	option = {#oh thats not good
		name = rus_civilwar.2.a
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				state_strategic_value > 15
			}
			add_dynamic_modifier = {
				modifier = RUS_local_soviets_modifier
			}
		}
	}
}

country_event = { #Russian civil war starts
	id = rus_civilwar.4
	title = rus_civilwar.4.t	
	desc = rus_civilwar.4.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		195 = {
			SOV = {
				transfer_state = PREV
				load_oob = SOV_units
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"Red Guard\" division_template = \"Red Guard\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
		}
		SOV = {
			create_faction = RUS_red_faction
			declare_war_on = {
				target = RUS
				type = annex_everything
			}
			add_civil_war_target = RUS
			if = {
				limit = {
					has_global_flag = RUS_lenin_in_russia
					NOT = {
						has_global_flag = RUS_lenin_is_dead
					}
				}
				add_country_leader_role = {
					character = SOV_vladimir_lenin
					promote_leader = yes
					country_leader={
						ideology=leninism
						traits = { leader_of_the_revolution veteran_communist cornered_fox}
						expire="1965.1.1.1"
						id=-1
					}
				}
			}
		}
		clr_country_flag = RUS_revolutionaries_active
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		RUS = {
			create_faction = RUS_white_faction
		}
		every_state = {
			limit = {
				is_core_of = RUS
				NOT = {
					is_core_of = BLR
					is_core_of = UKR
					is_core_of = LIT
					is_core_of = LAT
					is_core_of = EST
					is_core_of = FIN
					is_core_of = AZR
					is_core_of = ARM
					is_core_of = GEO
					is_core_of = KAZ
					is_core_of = UZB
					is_core_of = TMS
					is_core_of = KYR
					is_core_of = TAJ
					is_core_of = GER
				}
			}
			add_core_of = SOV
		}
		every_other_country = {
			limit = {
				has_war_with = ROOT
			}
			declare_war_on = {
				target = SOV
				type = annex_everything
			}
		}
	}
	
	option = {#oh thats not very good
		name = rus_civilwar.4.a
		hidden_effect = {
			country_event = {
				id = rus_civilwar.5
				hours = 15
			}
		}
		trigger = {
			NOT = { has_completed_focus = RUS_radicalise_the_people }
		}
	}

	option = {#All power to the soviets
		name = rus_civilwar.4.b
		SOV = { change_tag_from = ROOT }
		hidden_effect = {
			country_event = {
				id = rus_civilwar.5
				hours = 15
			}
		}
		trigger = {
			NOT = { has_completed_focus = RUS_cement_the_tsars_rule}
		}
	}
}

country_event = { #workers take control of moscow
	id = rus_civilwar.5
	title = rus_civilwar.5.t	
	desc = rus_civilwar.5.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		219 = {
			SOV = {
				transfer_state = PREV
			}
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
			create_unit = {
				division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			}
			create_unit = {
				division = "name = \"Red Guard\" division_template = \"Red Guard\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
				owner = SOV
			} 
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}
	
	option = {#oh thats VERY not good
		name = rus_civilwar.5.a
		hidden_effect = {
			country_event = {
				id = rus_civilwar.7
				days = 2
			}
		}
	}
}

country_event = { #finnish civil war
	id = rus_civilwar.6
	title = rus_civilwar.6.t	
	desc = rus_civilwar.6.desc

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FIN = {
			is_subject = no
			NOT = {
				has_government = communism
			}
		}
	}

	immediate = {
		
		start_civil_war = {
			ruling_party = ROOT
			ideology = communism
			size = 0.3
			capital = 111
			states = { 
				111
			}
			add_ai_strategy = { #To make sure they dont intervene with the larger russian civil war
				type = alliance #Plus most red fins hated bolsheviks
				id = SOV
				value = -200
			}
			add_ai_strategy = { 
				type = befriend #But hey, they are both still commies
				id = SOV
				value = 100
			}
		}
	}
	
	option = {#oh thats very not good
		name = rus_civilwar.4.a
	}
}

country_event = { #mass uprisings
	id = rus_civilwar.7
	title = rus_civilwar.7.t	
	desc = rus_civilwar.7.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		every_owned_state = {
			limit = {
				OR = {
					state = 218
					state = 408
					state = 813
					state = 213
					state = 742
					state = 248
					state = 911
					state = 208
					state = 209
					state = 263
					state = 563
				}
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
			SOV = {
				set_state_owner = PREV
			}
			if = {
				limit = {
					RUS = {
						controls_state = PREV
					}
				}
				set_state_controller_to = SOV
			}
			if = {
				limit = {
					OR = {
						state_strategic_value > 15
						any_neighbor_state = {
							owner = {
								has_war_with = SOV
							}
						}
					}
				}
				create_unit = {
					division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
					owner = SOV
				}
			}
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		if = {
			limit = {
				FIN = {
					exists = yes
					is_puppet_of = ROOT
				}
			}
			set_autonomy = {
				target = FIN
				autonomy_state = autonomy_free
				end_wars = yes
				end_civil_wars = no
			}
			FIN = {
				leave_faction = yes
				if = {
					limit = { NOT = { has_idea = neutrality_idea } }
					add_ideas = neutrality_idea
				}
				division_template = {
					name = "Finnish Infantry Division"
					is_locked = no
					priority = 0
					template_counter = 0
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
					}
				}
				111 = {
					create_unit = { 
						division = "name = \"Infantry Division\" division_template = \"Finnish Infantry Division\" start_experience_factor = 0.5" 
						owner = FIN
						allow_spawning_on_enemy_provs = no
						count = 10
					}
				}
				country_event = {
					id = rus_civilwar.6
					days = 62
					random = 31
				}
				GER = {
					if = {
						limit = {
							has_government = neutrality
							NOT = {
								has_global_flag = versailles_flag
							}
						}
					}
				}
			}
			if = {
				limit = {
					FIN = {
						has_war = yes
						has_capitulated = no
					}
				}
				FIN = {
					if = {
						limit = { NOT = { has_idea = neutrality_idea } }
						add_ideas = neutrality_idea
					}
					division_template = {
						name = "Finnish Infantry Division"
						is_locked = no
						priority = 0
						template_counter = 0
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
							infantry = { x = 1 y = 0 }
						}
					}
					111 = {
						create_unit = { 
							division = "name = \"Infantry Division\" division_template = \"Finnish Infantry Division\" start_experience_factor = 0.5" 
							owner = FIN
							allow_spawning_on_enemy_provs = no
							count = 10
						}
					}
					country_event = {
						id = rus_civilwar.6
						days = 62
						random = 31
					}
				}
				every_enemy_country = {
					white_peace = FIN
				}
			}
		}
		else = {
			release = FIN
		}
		SOV = {
			set_capital = {
				state = 219
			}
		}
	}
	
	option = {#oh thats very not good
		name = rus_civilwar.5.a
		hidden_effect = {
			country_event = {
				id = rus_civilwar.8
				days = 5
			}
		}
	}
}

country_event = { #collapse of russian control in europe
	id = rus_civilwar.8
	title = rus_civilwar.8.t	
	desc = rus_civilwar.8.desc	

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		every_owned_state = {
			limit = {
				OR = {
					state = 246
					state = 242
					state = 247
					state = 210
					state = 810
					state = 207
					state = 241
					state = 206
					state = 204
					state = 95
					state = 96
					state = 784
					state = 243
					state = 241
					state = 205
					state = 223
					state = 244
					state = 253
					state = 215
					state = 247
				}
			}
			remove_dynamic_modifier = { modifier = RUS_local_soviets_modifier }
			RUS = {
				delete_unit = { 
					state = PREV
					disband = no
				}
			}
			SOV = {
				set_state_owner = PREV
			}
			if = {
				limit = {
					RUS = {
						controls_state = PREV
					}
				}
				set_state_controller_to = SOV
			}
			if = {
				limit = {
					OR = {
						state_strategic_value > 15
						any_neighbor_state = {
							owner = {
								has_war_with = SOV
							}
						}
					}
				}
				create_unit = {
					division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
					owner = SOV
				}
			}
		}
		RUS = {
			add_ideas = {
				RUS_russian_civil_war
				RUS_fractured_white_movement
			}
			if = {
				limit = {
					any_enemy_country = {
						NOT = {
							original_tag = ROM
						}
					}
				}
				if = {
					limit = {
						any_owned_state = {
							is_controlled_by = RUS
							is_core_of = MOL
						}
					}
					release = MOL
					MOL = {
						every_owned_state = {
							RUS = {
								delete_unit = { 
									state = PREV
									disband = yes
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_owned_state = {
						is_controlled_by = RUS
						is_core_of = UKR
					}
				}
				release = UKR
				every_other_country = {
					limit = {
						controls_state = 202
					}
					UKR = {
						give_military_access = PREV
					}
				}
				UKR = {
					every_owned_state = {
						RUS = {
							delete_unit = { 
								state = PREV
								disband = yes
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_owned_state = {
						is_controlled_by = RUS
						is_core_of = UKR
					}
				}
				release = POL
				every_other_country = {
					limit = {
						controls_state = 10
					}
					if = {
						limit = {
							OR = {
								has_dlc = "Together for Victory"
								has_dlc = "Man the Guns"
							}
						}
						set_autonomy = {
							target = POL
							autonomous_state = autonomy_integrated_puppet
						}
						else = {
							puppet = POL
						}
					}
				}
				POL = {
					every_owned_state = {
						RUS = {
							delete_unit = { 
								state = PREV
								disband = yes
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_owned_state = {
						is_controlled_by = ROOT
						is_core_of = FIN
					}
				}
				release = FIN
			}
			every_state = {
				limit = {
					is_owned_by = ROOT
					OR = {
						state = 935
						state = 137
					}
				}
				transfer_state_to = RUS
			}
			every_state = {
				limit = {
					is_owned_by = ROOT
					OR = {
						state = 914
						state = 722
					}
				}
				transfer_state_to = SOV
			}
			every_state = {
				limit = {
					is_owned_by = ROOT
					OR = {
						state = 240
						state = 194
						state = 94
						state = 940
					}
				}
				transfer_state_to = UKR
			}
			UKR = {
				division_template = {
					name = "Ukranian Infantry Division"
					is_locked = no
					priority = 0
					template_counter = 0
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
					}
				}
				202 = {
					create_unit = { 
						division = "name = \"Infantry Division\" division_template = \"Ukranian Infantry Division\" start_experience_factor = 0.5" 
						owner = UKR
						prioritize_location = 525
						allow_spawning_on_enemy_provs = no
						count = 10
					}
				}
				add_ai_strategy = {
					type = prepare_for_war 
					id = SOV
					value = 1000
				}
			}
			
			set_capital = {
				state = 571
				remember_old_capital = yes
			}
			send_equipment = {
				equipment = infantry_equipment
				amount = 5000
				target = SOV
			}
			send_equipment = {
				equipment = support_equipment
				amount = 1000
				target = SOV
			}
			send_equipment = {
				equipment = artillery_equipment
				amount = 1000
				target = SOV
			}
			clr_country_flag = RUS_revolutionaries_active
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		SOV = {
			if = {
				limit = {
					has_completed_focus = RUS_funds_from_international_communists
				}
				add_ideas = {
					SOV_funds_from_international_communists
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = RUS_consolidate_the_party }
				}
				add_ideas = {
					SOV_disorganised_party
				}
			}
			add_ideas = {
				RUS_russian_civil_war
			}
			add_timed_idea = {
				idea = SOV_the_revolution
				days = 180
			}
			hidden_effect = {
				every_controlled_state = {
					limit = {
						OR = {
							any_neighbor_state = {
								controller = {
									has_war_with = SOV
								}
							}
							has_dynamic_modifier = {
								modifier = RUS_local_soviets_modifier
							}
						}
					}
					random_list = {
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 0
								RUS = {
									has_completed_focus = RUS_prepare_for_a_civil_war
								}
							}
						}
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 2
								has_dynamic_modifier = {
									modifier = RUS_local_soviets_modifier
								}
							}
						}
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 2
								RUS = {
									has_completed_focus = RUS_prepare_for_a_civil_war
								}
							}
						}
						25 = {
							create_unit = {
								division = "name = \"People's Militia\" division_template = \"People's Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							create_unit = {
								division = "name = \"Red Guard\" division_template = \"Red Guard\" start_experience_factor = 0.5 start_equipment_factor = 0.8 start_manpower_factor = 1"
								owner = SOV
							} 
							modifier = {
								factor = 0 
								has_dynamic_modifier = {
									modifier = RUS_local_soviets_modifier
								}
							}
						}
					}
					remove_core_of = RUS
				}
			}
			hidden_effect = { #Releasing the caucases
				every_country = {
					limit = {
						OR = {
							is_puppet_of = ROOT
							tag = ROOT
						}
					}
					release = GEO
					release = ARM
					release = AZR
					if = {
						limit = {
							any_other_country = {
								OR = {
									has_cosmetic_tag = transcaucasia_unified
									tag = event_target:transcaucasia_event_target
								}
							}
						}
						every_other_country = {
							limit = {
								OR = {
									has_cosmetic_tag = transcaucasia_unified
									tag = event_target:transcaucasia_event_target
								}
							}
							drop_cosmetic_tag = yes
						}
					}
				}
				if = {
					limit = {
						has_war_with = GER
					}
					GER = {
						give_guarantee = GEO
						diplomatic_relation = {
							country = GEO
							relation = non_aggression_pact
							active = yes
						}
						GEO = {
							give_military_access = PREV
						}
					}
				}
				if = {
					limit = {
						has_war_with = OTT
						OTT = {
							owns_state = 354
						}
					}
					OTT = {
						transfer_state = 828
						transfer_state = 842
						transfer_state = 970
						transfer_state = 971
					}
				}
				if = {
					limit = {
						OTT = {
							controls_state = 230
						}
					}
					OTT = {
						puppet = ARM
					}
				}
				GEO = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = yes
					}
					set_popularities = {
						democratic = 50
						neutrality = 10
						fascism = 5
						communism = 35
					}
				}
			}
			
		}
	}
	
	option = {#Ah fuck
		name = rus_civilwar.8.a
	}

	option = {#well, off to ukraine boys!
		name = rus_civilwar.8.b
		trigger = {
			UKR = {
				exists = yes
			}
		}
		UKR = { change_tag_from = ROOT }
	}
}

#######################
#Normal Russian events#
#######################

add_namespace = rus_events

#POTSDAM!!!!

country_event = { #Potsdam Meeting
	id = rus_events.1
	title = rus_events.1.t	
	desc = rus_events.1.desc

	is_triggered_only = yes

	fire_only_once = yes
	
	option = {#Demand full russian control of persia
		name = rus_events.1.a

		set_global_flag = RUS_russian_full_access_flag
		GER = {
			country_event = {
				id = rus_events.2
				days = 5
			}
		}

		ai_chance = {
			factor = 8
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#Allow Germans railroads in persia
		name = rus_events.1.b

		set_global_flag = RUS_german_railroads_flag

		ai_chance = {
			factor = 10
		}

		GER = {
			country_event = {
				id = rus_events.2
				days = 5
			}
		}
	}

	option = {#Give Germans full access to persia
		name = rus_events.1.c

		set_global_flag = RUS_german_full_access_flag

		custom_effect_tooltip = RUS_brits_wont_like_this

		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		GER = {
			country_event = {
				id = rus_events.2
				days = 5
			}
		}
	}
}

country_event = { #Potsdam Meeting for germans
	id = rus_events.2
	title = rus_events.2.t	
	desc = rus_events.2.desc

	is_triggered_only = yes
	
	option = {#No, we demand more!
		name = rus_events.2.a

		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.8
				FROM = {
					is_ai = no
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				has_global_flag = RUS_german_railroads_flag
			}
		}

		trigger = {
			NOT = {
				has_global_flag = RUS_german_full_access_flag
			}
		}

		FROM = {
			country_event = {
				id = rus_events.4
				days = 5
			}
		}
	}

	option = {#Fine.
		name = rus_events.2.b
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		FROM = {
			country_event = {
				id = rus_events.3
				days = 5
			}
		}
	}
}

country_event = { #germans agree!
	id = rus_events.3
	title = rus_events.3.t	
	desc = rus_events.3.desc

	is_triggered_only = yes
	
	option = {#Great!
		name = rus_events.3.a
		set_country_flag = RUS_ger_agree_potsdam
	}
}

country_event = { #germans want more
	id = rus_events.4
	title = rus_events.4.t	
	desc = rus_events.4.desc

	is_triggered_only = yes
	
	option = {#Fine
		name = rus_events.4.a
		clr_global_flag = RUS_russian_full_access_flag 
		set_global_flag = RUS_german_railroads_flag
		FROM = {
			country_event = {
				id = rus_events.5
				days = 5
			}
		}
		trigger = {
			has_global_flag = RUS_russian_full_access_flag
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#Fine
		name = rus_events.4.a
		clr_global_flag = RUS_german_railroads_flag
		set_global_flag = RUS_german_full_access_flag
		FROM = {
			country_event = {
				id = rus_events.5
				days = 5
			}
		}
		trigger = {
			has_global_flag = RUS_german_railroads_flag
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#What? No!
		name = rus_events.4.b
		FROM = {
			country_event = {
				id = rus_events.6
				days = 5
			}
		}
		ai_chance = {
			factor = 7
		}
	}
}

country_event = { #Russians agree!
	id = rus_events.5
	title = rus_events.5.t	
	desc = rus_events.5.desc

	is_triggered_only = yes
	
	option = {#great!
		name = rus_events.5.a
		set_country_flag = RUS_ger_agree_potsdam
	}

	option = {#demand more
		name = rus_events.5.b
		FROM = {
			country_event = {
				id = rus_events.4
				days = 5
			}
		}
		trigger = {
			NOT = {
				has_global_flag = RUS_german_full_access_flag
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #Russians disagree!
	id = rus_events.6
	title = rus_events.6.t	
	desc = rus_events.6.desc

	is_triggered_only = yes
	
	option = {#fine...
		name = rus_events.6.a
		FROM = {
			country_event = {
				id = rus_events.7
				days = 5
			}
		}
		ai_chance = {
			factor = 5
		}
	}

	option = {#kick them out of potsdam
		name = rus_events.6.b
		RUS = {
			country_event = {
				id = rus_events.8
				days = 5
			}
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #germans back down
	id = rus_events.7
	title = rus_events.7.t	
	desc = rus_events.7.desc

	is_triggered_only = yes
	
	option = {#great
		name = rus_events.7.a
		set_country_flag = RUS_ger_agree_potsdam
	}
}

country_event = { #germans kick us out
	id = rus_events.8
	title = rus_events.8.t	
	desc = rus_events.8.desc

	is_triggered_only = yes
	
	option = {#ah
		name = rus_events.7.a
		set_global_flag = RUS_russian_full_access_flag
		clr_global_flag = RUS_german_railroads_flag
		clr_global_flag = RUS_german_full_access_flag
		set_global_flag = RUS_germans_wont_potsdam
	}
}

#potsdam done

country_event = { #russians ask help with training
	id = rus_events.9
	title = rus_events.9.t	
	desc = rus_events.9.desc

	is_triggered_only = yes
	
	option = {#yes
		name = rus_events.9.a
		effect_tooltip = {
			army_experience = 50
			add_timed_idea = {
				idea = RUS_joint_training
				days = 100
			}
			RUS = {
				army_experience = 75
				add_timed_idea = {
					idea = RUS_joint_training
					days = 100
				}
			}
		}
		FROM = {
			country_event = {
				id = rus_events.10 days = 1
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {#no
		name = rus_events.8.b
		FROM = {
			country_event = {
				id = rus_events.11 days = 1
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { #french accept
	id = rus_events.10
	title = rus_events.10.t	
	desc = rus_events.10.desc

	is_triggered_only = yes
	
	option = {#great
		name = rus_events.10.a
		army_experience = 75
		add_timed_idea = {
			idea = RUS_joint_training
			days = 100
		}
		FRA = {
			army_experience = 50
			add_timed_idea = {
				idea = RUS_joint_training
				days = 100
			}
		}
	}
}

country_event = { #french decline
	id = rus_events.11
	title = rus_events.11.t	
	desc = rus_events.11.desc

	is_triggered_only = yes
	
	option = {#crap
		name = rus_events.11.a
	}
}

country_event = { #duma election
	id = rus_events.12
	title = rus_events.12.t	
	desc = rus_events.12.desc

	is_triggered_only = yes

	immediate = {
		set_country_flag = RUS_duma_elections
	}
	
	option = {#tsarist majority
		name = rus_events.12.a
		set_country_flag = RUS_duma_tsarist_majority_flag
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	option = {#No clear Majority
		name = rus_events.12.b
		set_country_flag = RUS_duma_no_majority_flag
		ai_chance = {
			factor = 5
		}
	}

	option = {#Socialist majority
		name = rus_events.12.c
		set_country_flag = RUS_duma_socialist_majority_flag
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #formation of the consituent assembly
	id = rus_events.13
	title = rus_events.13.t	
	desc = rus_events.13.desc

	is_triggered_only = yes
	
	option = {#we will beg
		name = rus_events.13.a
		add_political_power = 50
		add_stability = 0.02
	}
}

country_event = { #Russians attempt to seize tannu tuva
	id = rus_events.14
	title = rus_events.14.t	
	desc = rus_events.14.desc

	is_triggered_only = yes
	
	option = {#We resisted against their attacks
		name = rus_events.14.a
		effect_tooltip = {
			RUS = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		hidden_effect = {
			RUS = {
				country_event = { id = rus_events.15 }
			}
		}
		ai_chance = {
			factor = 0
		}
	}

	option = {#Russian forces quickly took control
		name = rus_events.14.b
		RUS = {
			country_event = { id = rus_events.16 }
		}
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #The invasion of tannu tuva failed
	id = rus_events.15
	title = rus_events.15.t	
	desc = rus_events.15.desc

	is_triggered_only = yes
	
	option = {#Fine, we'll have to do it ourselves
		name = rus_events.15.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #fate of tanu tuva
	id = rus_events.16
	title = rus_events.16.t	
	desc = rus_events.16.desc

	is_triggered_only = yes
	
	option = {#Puppet Tannu tuva
		name = rus_events.16.a
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					has_dlc = "Man the Guns"
				}
			}
			set_autonomy = {
				target = TAN
				autonomous_state = autonomy_integrated_puppet
			}
			else = {
				puppet = TAN
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#Completely annex it
		name = rus_events.16.b
		annex_country = {
			target = TAN
		}
		329 = {
			set_compliance = 50
			set_resistance = 0
		}
		add_political_power = -50
		add_to_variable = {
			var = RUS_socialist_radicalisation
			value = 3
			tooltip = RUS_socialist_radicalisation_increase
		}
		add_popularity = {
			popularity = 0.02
			ideology = communism
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #Russia sends an ultimatum
	id = rus_events.17
	title = rus_events.17.t	
	desc = rus_events.17.desc

	is_triggered_only = yes
	
	option = {#We shall not surrender
		name = rus_events.17.a
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#Completely annex it
		name = rus_events.17.b
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					has_dlc = "Man the Guns"
				}
			}
			set_autonomy = {
				target = TAN
				autonomous_state = autonomy_integrated_puppet
			}
			else = {
				puppet = TAN
			}
		}
		ai_chance = {
			factor = 5
		}
	}
}

country_event = { #How to occupy persia?
	id = rus_events.18
	title = rus_events.18.t	
	desc = rus_events.18.desc

	is_triggered_only = yes
	
	option = {#Divide it up with uk
		name = rus_events.18.a
		effect_tooltip = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
			ENG = {
				transfer_state = 410
				transfer_state = 414
				transfer_state = 413
			}
		}
		set_country_flag = RUS_occupy_with_eng
		trigger = {
			NOT = {
				has_war_with = ENG
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#Divide it up with germany
		name = rus_events.18.b
		effect_tooltip = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
			GER = {
				transfer_state = 412
				transfer_state = 421
				transfer_state = 413
			}
		}
		custom_effect_tooltip = RUS_eng_might_interfere
		set_country_flag = RUS_occupy_with_ger
		trigger = {
			NOT = {
				has_war_with = GER
			}
		}
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { #dividing with only germany - uk
	id = rus_events.19
	title = rus_events.19.t	
	desc = rus_events.19.desc

	is_triggered_only = yes
	
	option = {#we demand some concessions
		name = rus_events.19.a
		effect_tooltip = {
			transfer_state = 411
			transfer_state = 414
			transfer_state = 412
			transfer_state = 410
		}
		RUS = {
			custom_effect_tooltip = needs_approval
			hidden_effect = {
				country_event = { id = rus_events.20 days = 1 }
			}
		}

		ai_chance = {
			factor = 10
		}
	}

	option = {#hmm, they can have it
		name = rus_events.19.b
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { #russia wants us to occupy parts of persia
	id = rus_events.23
	title = rus_events.23.t	
	desc = rus_events.23.desc

	is_triggered_only = yes
	
	option = {#sure
		name = rus_events.23.a
		ai_chance = {
			factor = 10
		}
		FROM = {
			country_event = RUS_events.26
		}
	}

	option = {#no
		name = rus_events.23.b
		ai_chance = {
			factor = 0
		}
		FROM = {
			country_event = RUS_events.24
		}
	}
}

country_event = { #they no accewpt
	id = rus_events.24
	title = rus_events.24.t	
	desc = rus_events.24.desc

	is_triggered_only = yes
	
	option = {#we'll have all of it then
		name = rus_events.24.a
		ai_chance = {
			factor = 10
		}
		set_country_flag = RUS_only_russia_occupies_in_persia
		clr_country_flag = RUS_occupy_with_eng
		clr_country_flag = RUS_occupy_with_ger
		FROM = {
			country_event = RUS_events.28
		}
	}
}
country_event = { #they_accept
	id = rus_events.26
	title = rus_events.26.t	
	desc = rus_events.26.desc

	is_triggered_only = yes
	
	option = {#alr
		name = rus_events.26.a
		ai_chance = {
			factor = 10
		}
		FROM = {
			country_event = RUS_events.28
		}
	}
}

country_event = { #persia declines

	id = rus_events.27
	title = rus_events.27.t	
	desc = rus_events.27.desc

	is_triggered_only = yes

	option = {#
		name = rus_events.27.b
		effect_tooltip = {
			if = {
				limit = {
					RUS = {
						has_country_flag = RUS_occupy_with_eng
					}
				}
				ENG = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = FROM
					}
				}
			}
			if = {
				limit = {
					RUS = {
						has_country_flag = RUS_occupy_with_ger
					}
				}
				GER = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = FROM
					}
				}
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FROM
			}
		}
	}
}

country_event = { #omg big scawwwy wussia demwans puuuuuwsia

	id = rus_events.28
	title = rus_events.28.t	
	desc = rus_events.28.desc

	is_triggered_only = yes
	
	option = {#ok daddy
		name = rus_events.28.a
		FROM = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
		}
		ENG = {
			transfer_state = 410
			transfer_state = 414
			transfer_state = 413
		}
		trigger = {
			RUS = {
				has_country_flag = RUS_occupy_with_eng
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#ok daddy 2 electric boogaloo
		name = rus_events.28.a

		FROM = {
			transfer_state = 419
			transfer_state = 832
			transfer_state = 266
			transfer_state = 420
			transfer_state = 416
			transfer_state = 418
		}
		GER = {
			transfer_state = 412
			transfer_state = 421
			transfer_state = 413
		}

		trigger = {
			RUS = {
				has_country_flag = RUS_occupy_with_ger
			}
		}
		ai_chance = {
			factor = 10
		}
	}

	option = {#
		name = rus_events.28.b
		if = {
			limit = {
				RUS = {
					has_country_flag = RUS_occupy_with_eng
				}
			}
			ENG = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		if = {
			limit = {
				RUS = {
					has_country_flag = RUS_occupy_with_ger
				}
			}
			GER = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROOT
				}
			}
		}
		FROM = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROOT
			}
		}
		ai_chance = {
			factor = 8
			modifier = {
				factor = 0.8
				FROM = {
					is_ai = no
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

country_event = { #russia wants to strengthen the entente
	id = rus_events.32
	title = rus_events.32.t	
	desc = rus_events.32.desc

	is_triggered_only = yes

	# i totally didnt copy this from glug :troll:
	
	option = { #sounds good bro
		name = rus_events.32.a
		ai_chance = {
			factor = 20
		}
		effect_tooltip = {
			FROM = {
				create_faction = entente_faction
			}
			ROOT = {
				add_to_faction = FROM
			}
		}
	}
	option = { #no we ain't besties yet bro
		name = rus_events.32.b
		ai_chance = {
			factor = 0
		}
		FROM = {
			country_event = { id = french_events.8 hours = 2 }
		}
	}
}

country_event = { #they declined??WA?D?AWdawdjawdw wrf.....
	id = rus_events.33
	title = rus_events.33.t	
	desc = rus_events.33.desc

	is_triggered_only = yes
	
	option = { #wrf....
		name = rus_events.33.a
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
	}
}

country_event = { #yooo they accepted
	id = rus_events.34
	title = rus_events.34.t	
	desc = rus_events.34.desc

	is_triggered_only = yes
	
	option = { #great
		name = rus_events.34.a
		add_political_power = 75
		add_war_support = 0.05
		if = {
			limit = {
				FRA = {
					is_in_faction = no
				}
			}
			create_faction = entente_faction
			FROM = {
				add_to_faction = ROOT
			}
		}
		else = {
			add_to_faction = FROM
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}

country_event = { #guns for whites in civil war
	id = rus_events.35
	title = rus_events.35.t	
	desc = rus_events.35.desc

	is_triggered_only = yes
	
	option = { #sure
		name = rus_events.35.a
		add_political_power = 25
		send_equipment = {
			equipment = infantry_equipment
			amount = 1000
			target = FROM
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 100000
				is_historical_focus_on = yes
				OR = {
					original_tag = CZE
					original_tag = JAP
					original_tag = ROM
					AND = {
						original_tag = GER
						NOT = {
							has_government = democratic
						}
						OR = { #rudimentary check to see if they have versailles or not
							owns_state = 28
							owns_state = 86
							owns_state = 188
						}
					}
				}
			}
			modifier = {
				factor = 2
				stockpile_ratio = {
					archetype = infantry_equipment
					ratio > 1
				}
			}
			modifier = {
				factor = 2
				stockpile_ratio = {
					archetype = infantry_equipment
					ratio > 1.5
				}
			}
			modifier = {
				factor = 2
				has_government = fascism
			}
			modifier = {
				factor = 3
				any_neighbor_country = {
					OR = {
						tag = FROM
						AND = {
							original_tag = RUS
							has_government = communism
						}
						AND = {
							original_tag = SOV
							has_government = communism
						}
					}
				}
			}
			modifier = {
				factor = 0
				stockpile_ratio = {
					archetype = infantry_equipment
					ratio < 1
				}
			}
		}
	}

	option = { #nah
		name = rus_events.35.b
		ai_chance = {
			factor = 1
		}
	}
}

country_event = { #whites get foreign support
	id = rus_events.36
	title = rus_events.36.t	
	desc = rus_events.36.desc

	is_triggered_only = yes
	
	option = { #whats expected of a foreign puppet
		name = rus_events.36.a
		effect_tooltip = {
			add_war_support = 0.15
		}
	}
}

country_event = { #rename st petersburg
	id = rus_events.37
	title = rus_events.37.t	
	desc = rus_events.37.desc

	is_triggered_only = yes
	
	option = { #die germans!
		name = rus_events.37.a
		add_war_support = 0.1
		set_province_name = {
			id = 3151
			name = RUS_petrograd
		}
		195 = {
			set_state_name = RUS_petrograd
		}
	}
}

country_event = { #country gets notified that russia is funding resistence
	id = rus_events.38
	title = rus_events.38.t	
	desc = rus_events.38.desc

	is_triggered_only = yes
	
	option = { #oh great
		name = rus_events.38.a
		effect_tooltip = {
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
		}
	}
}

country_event = { #country gets notified that russia is planning a coup
	id = rus_events.39
	title = rus_events.39.t	
	desc = rus_events.39.desc

	is_triggered_only = yes
	
	option = { #we must fight against this insurgency
		name = rus_events.39.a
	}
}

country_event = { #coup
	id = rus_events.40
	title = rus_events.40.t	
	desc = rus_events.40.desc

	is_triggered_only = yes
	
	option = { #to arms!
		name = rus_events.40.a
		start_civil_war = {
			ruling_party = ROOT
			ideology = neutrality
			size = 0.5
			states_filter = {
				is_capital = no
			}
			keep_political_leader = yes
			keep_political_party_members = yes
		}
		trigger = { #checking if they own any other state
			any_owned_state = {
				is_capital = no
			}
		}
	}

	option = { #we must accept, rather than waste blood
		name = rus_events.40.b
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
	}

	option = { #civil war in our midst!
		name = rus_events.40.c
		add_stability = -0.1
		add_war_support = -0.1
		trigger = { #checking if they own any other state
			NOT = {
				any_owned_state = {
					is_capital = no
				}
			}
		}
	}
}

country_event = { #poles demand independance
	id = rus_events.41
	title = rus_events.41.t	
	desc = rus_events.41.desc

	trigger = {
		has_completed_focus = RUS_promise_independence_after_the_war
		has_war = no
		any_owned_state = {
			is_core_of = POL
		}
	}

	fire_only_once = yes
	
	option = { #they are subservient to the great russia!
		name = rus_events.41.a
		if = {
			limit = {
				POL = {
					exists = no
				}
			}
			hidden_effect = {
				release = POL
				POL = {
					division_template = {
						name = "Polish Infantry Division"
						is_locked = no
						priority = 0
						template_counter = 0
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
							infantry = { x = 1 y = 0 }
						}
					}
					capital_scope = {
						create_unit = { 
							division = "name = \"Infantry Division\" division_template = \"Polish Infantry Division\" start_experience_factor = 0.5" 
							owner = POL
							allow_spawning_on_enemy_provs = no
							count = 15
						}
					}
				}
			}
			ROOT = {
				declare_war_on = {
					target = POL
					type = annex_everything
				}
			}
		}
		else = {
			create_dynamic_country = {
				original_tag = POL
				every_state = {
					limit = {
						is_core_of = POL
						is_owned_by = RUS
					}
					transfer_state_to = PREV
				}
				division_template = {
					name = "Polish Infantry Division"
					is_locked = no
					priority = 0
					template_counter = 0
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }
						infantry = { x = 1 y = 0 }
					}
				}
				capital_scope = {
					create_unit = { 
						division = "name = \"Infantry Division\" division_template = \"Polish Infantry Division\" start_experience_factor = 0.5" 
						owner = POL
						allow_spawning_on_enemy_provs = no
						count = 15
					}
				}
				ROOT = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
	}

	option = { #Fine.
		name = rus_events.41.b
		every_state = {
			limit = {
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
				OR = {
					is_core_of = POL
					state = 814
					state = 91
					state = 89
					if = {
						limit = {
							ROOT = {
								owns_state = 938
								owns_state = 814
							}
						}
						NOT = {
							state = 97
						}
					}
				}
			}
			transfer_state_to = POL
			RUS = {
				remove_state_core = PREV
			}
		}
		set_truce = {
			target = POL
			days = 100
		}
	}
}

add_namespace = sov_events

#SOV EVENTS
country_event = { #Lenin arrives
	id = sov_events.1
	title = sov_events.1.t	
	desc = sov_events.1.desc

	trigger = {
		OR = {
			original_tag = SOV
			original_tag = RUS
		}
		has_global_flag = RUS_lenin_in_russia
		NOT = {
			has_global_flag = RUS_lenin_is_dead
		}
	}

	fire_only_once = yes
	
	option = { #Our great leader arrives!
		name = sov_events.1.a
		trigger = {
			has_government = communism
		}
		add_country_leader_role = {
			character = SOV_vladimir_lenin
			promote_leader = yes
			country_leader={
				ideology=leninism
				traits = { leader_of_the_revolution veteran_communist cornered_fox}
				expire="1965.1.1.1"
				id=-1
			}
		}
	}

	option = { #booo
		name = sov_events.1.b
		trigger = {
			NOT = {
				has_government = communism
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		if = {
			limit = {
				has_country_flag = RUS_revolutionaries_active
			}
			add_to_variable = {
				var = RUS_socialist_radicalisation
				value = 10
				tooltip = RUS_socialist_radicalisation_increase
			}
		}
		add_country_leader_role = {
			character = SOV_vladimir_lenin
			country_leader={
				ideology=leninism
				traits = { leader_of_the_revolution veteran_communist cornered_fox}
				expire="1965.1.1.1"
				id=-1
			}
		}
	}
}