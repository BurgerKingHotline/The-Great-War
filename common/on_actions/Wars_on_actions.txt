on_actions = {

    on_state_control_changed = {
        effect = {
            if = {
                limit = {
                    FROM.FROM = {
                        has_dynamic_modifier = { modifier = eth_autonomous_state }
                    }
                    ROOT = {
                        NOT = {
                            original_tag = ETH
                        }
                    }
                }
                remove_dynamic_modifier = { modifier = eth_autonomous_state }
            }
        }
    }

    on_war_relation_added = {
        effect = { 
            if = {
                limit = {
                    OR = {
                        AND = {
                            FROM = {
                                original_tag = GER
                            }
                            ROOT = {
                                original_tag = FRA
                            }
                        }
                        AND = {
                            FROM = {
                                original_tag = FRA
                            }
                            ROOT = {
                                original_tag = GER
                            }
                        }
                    }
                }
                set_global_flag = ww1_started_flag
            }
            if = {
                limit = {
                    OR = {
                        AND = {
                            FROM = {
                                original_tag = GER
                            }
                            ROOT = {
                                original_tag = RUS
                            }
                        }
                        AND = {
                            FROM = {
                                original_tag = RUS
                            }
                            ROOT = {
                                original_tag = GER
                            }
                        }
                    }
                }
                random_country_with_original_tag = {
                    original_tag_to_check = RUS
                    limit = {
                        owns_state = 195
                    }
                    country_event = {
                        id = rus_events.37
                        hours = 14
                    }
                }
            }
        }
    }

    on_startup = {
        effect = {
            every_country = {
                if = {
                    limit = {
                        NOT = { 
                            OR = {
                                tag = QIN
                                tag = PER
                                tag = GER #theyre gonna have more troops
                                is_puppet = yes #master should take care of them
                                capital_scope = {
                                    is_on_continent = south_america #no one cares about them, 
                                }
                            }
                            has_country_flag = has_actual_oob 
                        }
                    }
                    d_create_army = yes
                }
                else_if = {
                    limit = {
                        tag = GER
                        tag = SER
                        tag = BUL
                        tag = GRE
                    }
                    d_create_army_large = yes
                }
                else = {
                    d_create_army_small = yes
                }
            }
            ENG = {
                give_resource_rights = { receiver = EGY state = 551 }
                give_resource_rights = { receiver = EGY state = 549 }
            }
            
            if = {
                limit = {
                    date < 1911.1.1
                }  
                ASH = {
                    country_event = {
                        id = other.7
                        days = 1351
                    }
                }
            }
            else = {
                set_country_flag = balkan_war_i_end
                set_country_flag = balkan_war_ii_end
                ASH = {
                    country_event = {
                        id = other.7
                        hours = 6
                    }
                }
            }
        }
    }

    # MEXICO ON ACTIONS

    on_startup = {
        effect = {
            if = {
                limit = {
                    date < 1911.1.1
                }  
                MEX = {
			        country_event = {
    			        id = mexican_revolution.2
    			        days = 208
			        }
                }
            }
        }
    }

    #RUSSIAN ON ACTIONS
    on_weekly_RUS = {
        effect = {
            if = {
                limit = {
                    has_country_flag = RUS_revolutionaries_active
                }
                clamp_temp_variable = {
                    var = RUS_socialist_radicalisation
                    min = 0
                    max = 100
                }
                if = {
                    limit = {
                        check_variable = { RUS_socialist_radicalisation > 79 }
                        check_variable = { party_popularity_100@communism > 59 }
                    }
                    if = {
                        limit = {
                            OR = {
                                has_country_flag = RUS_ferbruary_revolution_flag
                                surrender_progress > 0.25
                            }
                        }
                        RUS_civil_war_start = yes
                    }
                    else = {
                        country_event = { id = rus_civilwar.1 }
                    }
                }
            }
        }
    }
    on_capitulation = {
        effect = {
            if = {
                limit = {
                    ROOT = {
                        original_tag = RUS
                    }
                    FROM = {
                        original_tag = SOV
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = RUS
                    }
                    remove_core_of = RUS
                }
                every_state = {
                    limit = {
                        is_claimed_by = RUS
                    }
                   remove_claim_by = RUS
                }
                clr_global_flag = Russian_civil_war_flag
                set_global_flag = Reds_won_civil_war_flag
            }
            if = {
                limit = {
                    ROOT = {
                        original_tag = SOV
                    }
                    FROM = {
                        original_tag = RUS
                    }
                }
                every_state = {
                    limit = {
                        is_core_of = SOV
                    }
                    remove_core_of = SOV
                }
                every_state = {
                    limit = {
                        is_claimed_by = SOV
                    }
                   remove_claim_by = SOV
                }
                clr_global_flag = Russian_civil_war_flag
                set_global_flag = Whites_won_civil_war_flag
            }
        }
    }
}