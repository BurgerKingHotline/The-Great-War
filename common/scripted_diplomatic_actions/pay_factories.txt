scripted_diplomatic_actions = {

	send_factories_button = { # will be used in most localizations
	
		visible = { #if action is visible on gui
			NOT = {
				has_war_with = THIS
				is_embargoed_by = THIS
				is_embargoing = THIS
			}
		}
		selectable = {
			OR = {
                ROOT = {
                    any_owned_state = { industrial_complex > 0}
                }
                ROOT = {
                    any_owned_state = { arms_factory > 0}
                }
                ROOT = {
                    any_owned_state = { dockyard > 0}
                }
            }
		}

		requires_acceptance = no # if true the action will require acceptance of target country
		cost = 0 # pp cost, can be zero
		command_power = 0 # cp cost, can be zero

		icon = 1 # icon frame to use in notification

        #for effects/triggers/variables, root is the sender and this is receiver

		# runs when the action is properly sent and accepted
		complete_effect = {
		}

		# SEND POPUP CUSTOMIZATION
		# use diplomatic_action as context in scripted gui
		send_scripted_gui = send_factories_ui # if specified, the diplomatic action will use this scripted gui before sending the request. the player (or ai) can make changes on that gui and store stuff as variable to customize action
		reset_send_effect = { # if action has a send scripted gui, this effect will be used for clearing the state of gui (will run when player opens the scripted gui by sending the action or when ai proposes action
			# clear action
			set_variable = { SENT_FACTORIES = 0 }
		}
		can_be_sent = { # send button will be disabled if no
			always = yes
		}
		send_description = loc_key_send # if there is no scripted gui, this desc will be used in send yes/no pop up

		receive_description = loc_key_receive # if there is no scripted gui, this desc will be used in send yes/no pop up

		accept_title = loc_key_accept #can be overridden to customize accepted/rejected pop ups for the sender
		accept_description = loc_key_accept_desc
		reject_title = loc_key_reject
		reject_description = loc_key_reject_desc
	
		
		# AI
		# a list of ai_will_do entries that will be used to decide if AI should accept or reject a request
		ai_acceptance = {
			condition = { # name is used for loc
				base = 1
			}
		}

		# ai_will_do to decide if AI should send this action or not
		ai_desire = {
			base = 1
		}
	}
}
