russian_socialism_decisions = {
	RUS_raid_marxist_printing_houses = {
		icon = generic_civil_support

		available = {
        }
	
		modifier = {
			communism_drift = -0.05
		}
	
		days_remove = 100
		cost = 50

		complete_effect = {
			add_to_variable = {
				var = RUS_socialist_radicalisation
				value = 10
				tooltip = RUS_socialist_radicalisation_increase
			}
			add_stability = -0.05
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				check_variable = { RUS_socialist_radicalisation < 70 }
			}
			modifier = {
				factor = 2
				check_variable = { RUS_socialist_radicalisation < 50 }
				check_variable = { party_popularity_100@communism > 30 }
			}
			modifier = {
				factor = 2
				check_variable = { RUS_socialist_radicalisation < 30 }
				check_variable = { party_popularity_100@communism > 40 }
			}
		}
	}

	RUS_give_trade_unions_liberty = {
		icon = generic_civil_support

		visible = {
			NOT = { has_completed_focus = RUS_destroy_trade_unions }
		}

		available = {
        }
		cost = 100
		days_re_enable = 90

		complete_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
			add_to_variable = {
				var = RUS_socialist_radicalisation
				value = -10
				tooltip = RUS_socialist_radicalisation_increase
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				check_variable = { RUS_socialist_radicalisation > 40 }
			}
			modifier = {
				factor = 2
				check_variable = { RUS_socialist_radicalisation > 50 }
			}
			modifier = {
				factor = 2
				check_variable = { RUS_socialist_radicalisation > 60 }
			}
			modifier = {
				factor = 20000
				check_variable = { RUS_socialist_radicalisation > 70 }
			}
		}
	}
}

RUS_tsarist_intervention_decisions = {
	RUS_intervene_in_the_economy = {
		icon = generic_civil_support

		available = {
			hidden_trigger = {
				NOT = {
					has_country_flag = RUS_tsar_intervening
				}
			}
        }

		complete_effect = {
			set_country_flag = RUS_tsar_intervening
		}

		remove_effect = {
			clr_country_flag = RUS_tsar_intervening
		}
	
		modifier = {
			consumer_goods_factor = -0.05
			production_factory_efficiency_gain_factor = -0.05 
			production_factory_start_efficiency_factor = -0.08
			production_lack_of_resource_penalty_factor = 0.25 
		}
	
		days_remove = 180
		days_re_enable = 179
		cost = 50
		
		ai_will_do = {
			factor = 5
		}
	}

	RUS_intervene_in_the_military = {
		icon = generic_civil_support

		visible = {
		}

		available = {
			hidden_trigger = {
				NOT = {
					has_country_flag = RUS_tsar_intervening
				}
			}
        }
	
		modifier = {
			army_org_factor = 0.3
			army_core_defence_factor = 0.05
			army_core_attack_factor = 0.05
			army_morale_factor = -0.05
			max_planning_factor = -0.15
			planning_speed = -0.15
			political_power_factor = -0.05
		}

		complete_effect = {
			set_country_flag = RUS_tsar_intervening
		}

		remove_effect = {
			clr_country_flag = RUS_tsar_intervening
		}
	
		days_remove = 180
		days_re_enable = 179
		cost = 50
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 5
				has_war = yes
			}
			modifier = {
				factor = 2
				any_enemy_country = {
					is_major = yes
				}
			}
		}
	}

	RUS_intervene_in_national_security = {
		icon = generic_civil_support

		visible = {
		}

		available = {
			hidden_trigger = {
				NOT = {
					has_country_flag = RUS_tsar_intervening
				}
			}
        }

		allowed = {
			has_dlc = "La Resistance"
		}
	
		modifier = {
			crypto_strength = 3
			civilian_intel_to_others = -0.1
			army_intel_to_others = -0.1
			airforce_intel_to_others = -0.1
			foreign_subversive_activites = -0.3
			navy_intel_to_others = -0.1
			agency_upgrade_time = -0.25
		}

		complete_effect = {
			set_country_flag = RUS_tsar_intervening
		}

		remove_effect = {
			clr_country_flag = RUS_tsar_intervening
		}
	
		days_remove = 180
		days_re_enable = 179
		cost = 50
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				OR = {
					has_stability < 0.4
					has_war_support < 0.4
				}
			}
		}
	}

	RUS_intervene_in_foreign_policy = {
		icon = generic_civil_support

		visible = {
		}

		available = {
			hidden_trigger = {
				NOT = {
					has_country_flag = RUS_tsar_intervening
				}
			}
        }
	
		modifier = {
			opinion_gain_monthly_factor = 0.3
			custom_modifier_tooltip = RUS_other_people_like_you_more
			improve_relations_maintain_cost_factor = 0.15
		}

		complete_effect = {
			set_country_flag = RUS_tsar_intervening
			hidden_effect = {
				every_other_country = {
					add_ai_strategy = {
						type = befriend 
						id = RUS
						value = 20
					}
				}
			}
		}

		remove_effect = {
			clr_country_flag = RUS_tsar_intervening
			hidden_effect = {
				every_other_country = {
					add_ai_strategy = {
						type = befriend 
						id = RUS
						value = -20
					}
				}
			}
		}
	
		days_remove = 180
		days_re_enable = 179
		cost = 50
		
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				OR = {
					has_stability < 0.4
					has_war_support < 0.4
				}
			}
		}
	}
}

economy_decisions = {
	RUS_finish_the_trans_siberian_railway_dec = {

		icon = generic_form_nation

		allowed = { tag = RUS }
		available = {
			has_railway_connection = {
				start_state = 566
				target_state = 657
			}
		}

		activation = {
			has_completed_focus = RUS_finish_the_trans_siberian_railway
		}

		is_good = yes
		fire_only_once = yes
		selectable_mission = no
		days_mission_timeout = 180

		timeout_effect = {
        	add_political_power = -100
			add_stability = -0.05
		}

        complete_effect = {
			add_political_power = 50
			add_stability = 0.05
        }
	}

	RUS_ai_build_siberian_railway = {
		icon = generic_civil_support

		visible = {
			OR = { #wouldve liked to use allowed, but since theres a debug console command...
				is_ai = yes
				is_debug = yes
			}
		}

		activation = {
			has_completed_focus = RUS_finish_the_trans_siberian_railway
		}

		allowed = {
			original_tag = RUS
		}

		is_good = yes
		fire_only_once = yes
		selectable_mission = no
		days_mission_timeout = 100

		timeout_effect = {
			build_railway = {
				level = 1
				build_only_on_allied = yes
				controller_priority = {
					base = 1
					modifier = {
						tag = RUS
						add = 2
					}
				}
				fallback = yes
				path = { 4725 7763 12657 10678 7851 12543 10559 7725 4677 }
				start_province = 4725
				target_province = 4677
			}
			build_railway = {
				level = 1
				build_only_on_allied = yes
				controller_priority = {
					base = 1
					modifier = {
						tag = RUS
						add = 2
					}
				}
				fallback = yes
				path = { 4797 1762 4837 10528 4766 12507 7860 10683 7786 4677 }
				start_province = 4797
				target_province = 4677
			}
			563 = {
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 4677
				}
			}
		}
	}

	RUS_finish_the_trans_siberian_railway_man_dec = {

		icon = generic_form_nation

		allowed = { tag = RUS }
		available = {
			has_railway_connection = {
				start_state = 563
				target_state = 714
			}
		}

		activation = {
			has_completed_focus = RUS_finish_the_trans_siberian_railway
		}

		is_good = yes
		fire_only_once = yes
		selectable_mission = no
		days_mission_timeout = 180

		timeout_effect = {
        	add_political_power = -200
			add_war_support = -0.05
		}

        complete_effect = {
			add_political_power = 100
			add_war_support = 0.05
        }
	}

	RUS_ai_build_siberian_railway_in_man= {
		icon = generic_civil_support

		visible = {
			OR = { #wouldve liked to use allowed, but since theres a debug console command...
				is_ai = yes
				is_debug = yes
			}
		}

		activation = {
			has_completed_focus = RUS_build_up_manchurian_rails
			has_country_flag = RUS_able_to_build_man
			761 = {
				OR = {
					is_controlled_by = ROOT
					owner = {
						gives_military_access_to = ROOT
					}
				}
			}
			714 = {
				OR = {
					is_controlled_by = ROOT
					owner = {
						gives_military_access_to = ROOT
					}
				}
			}
		}

		allowed = {
			original_tag = RUS
		}

		is_good = yes
		fire_only_once = yes
		selectable_mission = no
		days_mission_timeout = 100

		timeout_effect = {
			build_railway = {
				level = 1
				build_only_on_allied = yes
				controller_priority = {
					base = 1
				}
				fallback = yes
				path = { 4506 12485 4876 10638 13150 4745 7743 4719 4677 }
				start_province = 4506
				target_province = 4677
			}
		}
	}
}

#SOVIET DECISIONS

SOV_form_ssrs = {
	SOV_form_transcaucasia_ssr = {
		icon = generic_civil_support

		visible = {
			OR = {
				controls_state = 826
				controls_state = 231
				controls_state = 230
				controls_state = 229
			}
		}

		available = {
			controls_state = 826
			controls_state = 231
			controls_state = 230
			controls_state = 229
			OR = {
				any_enemy_country = {
					has_cosmetic_tag = transcaucasia_unified
					exists = yes
					has_capitulated = yes
				}
				any_country = {
					NOT = {
						has_cosmetic_tag = transcaucasia_unified
					}
				}
			}
        }
		cost = 50

		complete_effect = {
			if = {
				limit = {
					any_country = {
						has_cosmetic_tag = transcaucasia_unified
						exists = yes
					}
				}
				random_country = {
					limit = {
						has_cosmetic_tag = transcaucasia_unified
					}
					ROOT = {
						white_peace = PREV
						set_autonomy = {
							target = PREV
							autonomous_state = autonomy_soviet_republic
						}
					}
				}
				
			}
			else = {
				create_dynamic_country = {
					original_tag = AZR
					save_global_event_target_as = transcaucasia_event_target
					set_state_owner = 229 
					add_state_core = 229
					if = {
						limit = {
							ROOT = {
								controls_state = 229
							}
						}
						set_state_controller = 229
					}

					add_state_core = 230
					if = {
						limit = {
							ROOT = {
								owns_state = 230
							}
						}
						set_state_owner = 230
					}
					if = {
						limit = {
							ROOT = {
								controls_state = 230
							}
						}
						set_state_controller = 230
					}

					add_state_core = 231
					if = {
						limit = {
							ROOT = {
								owns_state = 231
							}
						}
						set_state_owner = 231
					}
					if = {
						limit = {
							ROOT = {
								controls_state = 231
							}
						}
						set_state_controller = 231
					}

					add_state_core = 826
					if = {
						limit = {
							ROOT = {
								owns_state = 826
							}
						}
						set_state_owner = 826
					}
					if = {
						limit = {
							ROOT = {
								controls_state = 826
							}
						}
						set_state_controller = 826
					}

					add_state_core = 828
					if = {
						limit = {
							ROOT = {
								owns_state = 828
							}
						}
						set_state_owner = 828
					}
					if = {
						limit = {
							ROOT = {
								controls_state = 828
							}
						}
						set_state_controller = 828
					}

					add_state_core = 842
					if = {
						limit = {
							ROOT = {
								owns_state = 842
							}
						}
						set_state_owner = 842
					}
					if = {
						limit = {
							ROOT = {
								controls_state = 842
							}
						}
						set_state_controller = 842
					}

					set_cosmetic_tag = transcaucasia_unified
					ROOT = {
						set_autonomy = {
							target = PREV
							autonomous_state = autonomy_soviet_republic
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
	}

	SOV_form_fer_ssr = {
		icon = generic_civil_support

		visible = {
			OR = {
				controls_state = 564
				controls_state = 563
				controls_state = 561
			}
		}

		available = {
			controls_state = 564
			controls_state = 563
			controls_state = 561
			OR = {
				any_enemy_country = {
					tag = FER
					exists = yes
					has_capitulated = yes
				}
				FER = {
					exists = no
				}
			}
        }
		cost = 50

		complete_effect = {
			if = {
				limit = {
					FER = {
						exists = yes
					}
				}
				FER = {
					ROOT = {
						white_peace = PREV
						set_autonomy = {
							target = PREV
							autonomous_state = autonomy_soviet_republic
						}
					}
				}
			}
			else = {
				FER = {
					set_state_owner = 564
					add_state_core = 564
					if = {
						limit = {
							ROOT = {
								controls_state = 564
							}
						}
						set_state_controller = 564
					}

					add_state_core = 563
					if = {
						limit = {
							ROOT = {
								owns_state = 563
							}
						}
						set_state_owner = 563
					}
					if = {
						limit = {
							ROOT = {
								controls_state = 563
							}
						}
						set_state_controller = 563
					}

					add_state_core = 561
					if = {
						limit = {
							ROOT = {
								owns_state = 561
							}
						}
						set_state_owner = 561
					}
					if = {
						limit = {
							ROOT = {
								controls_state = 561
							}
						}
						set_state_controller = 561
					}
					ROOT = {
						set_autonomy = {
							target = PREV
							autonomous_state = autonomy_soviet_republic
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
	}

	SOV_give_vladivostok_ssr = {
		icon = generic_civil_support

		visible = {
			OR = {
				controls_state = 560
				controls_state = 657
				controls_state = 409
				controls_state = 408
			}
			FER = {
				exists = yes
				is_subject_of = ROOT
			}
		}

		available = {
			controls_state = 560
			controls_state = 657
			controls_state = 409
			controls_state = 408
        }
		cost = 50

		complete_effect = {
			FER = {
				add_state_core = 657
				if = {
					limit = {
						ROOT = {
							owns_state = 657
						}
					}
					set_state_owner = 657
				}
				if = {
					limit = {
						ROOT = {
							controls_state = 657
						}
					}
					set_state_controller = 657
				}

				add_state_core = 560
				if = {
					limit = {
						ROOT = {
							owns_state = 560
						}
					}
					set_state_owner = 560
				}
				if = {
					limit = {
						ROOT = {
							controls_state = 560
						}
					}
					set_state_controller = 560
				}

				add_state_core = 409
				if = {
					limit = {
						ROOT = {
							owns_state = 409
						}
					}
					set_state_owner = 409
				}
				if = {
					limit = {
						ROOT = {
							controls_state = 409
						}
					}
					set_state_controller = 409
				}

				add_state_core = 408
				if = {
					limit = {
						ROOT = {
							owns_state = 408
						}
					}
					set_state_owner = 408
				}
				if = {
					limit = {
						ROOT = {
							controls_state = 408
						}
					}
					set_state_controller = 408
				}
				ROOT = {
					set_autonomy = {
						target = PREV
						autonomous_state = autonomy_soviet_republic
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
	}
}